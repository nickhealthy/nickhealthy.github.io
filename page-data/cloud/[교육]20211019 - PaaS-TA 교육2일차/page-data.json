{"componentChunkName":"component---src-templates-blog-post-js","path":"/cloud/[교육]20211019 - PaaS-TA 교육2일차/","result":{"data":{"site":{"siteMetadata":{"title":"Woo's Dev Log","author":"nickhealthy","siteUrl":"https://nickhealthy.github.io","comment":{"disqusShortName":"","utterances":"nickhealthy/nickhealthy.github.io"},"sponsor":{"buyMeACoffeeId":""}}},"markdownRemark":{"id":"0a38da2d-fd73-5858-ac58-c1d22bed66da","excerpt":"boshVM를 배포하고, 그 위에 PaaS-TA 배포 및 CF-CLI(Cloud-Foundry)를 통해 제어해 봅시다. PaaS-TA란? 클라우드 인프라 환경을 제어하면서 애플리케이션을 쉽게 개발하고 안정적으로 운영할 수 있도록 관리 · 지원하는 클라우드 플랫폼 17  PASS-TA 단계별 개발 진행(2017 ~ 2019) PaaS-TA 개발 과정 17-1  PASS-TA 17-2  PASS-TA 17-3  PASS-TA 17-4  PASS-TA 파스타 5.5 version - SEMINI…","html":"<p>boshVM를 배포하고, 그 위에 PaaS-TA 배포 및 CF-CLI(Cloud-Foundry)를 통해 제어해 봅시다.</p>\n<h2 id=\"paas-ta란\" style=\"position:relative;\"><a href=\"#paas-ta%EB%9E%80\" aria-label=\"paas ta란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>PaaS-TA란?</h2>\n<ul>\n<li><u>클라우드 인프라 환경을 제어</u>하면서 애플리케이션을 쉽게 개발하고 안정적으로 운영할 수 있도록 <u>관리 · 지원하는 클라우드 플랫폼</u></li>\n</ul>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/137826533-595cf2f9-df42-422c-b12a-7d36c293a351.JPG\" alt=\"17  PASS-TA\"></p>\n<h2 id=\"단계별-개발-진행2017--2019\" style=\"position:relative;\"><a href=\"#%EB%8B%A8%EA%B3%84%EB%B3%84-%EA%B0%9C%EB%B0%9C-%EC%A7%84%ED%96%892017--2019\" aria-label=\"단계별 개발 진행2017  2019 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>단계별 개발 진행(2017 ~ 2019)</h2>\n<ul>\n<li>PaaS-TA 개발 과정</li>\n</ul>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/137826536-d3ecfc3c-f929-4cc5-a2fd-db51f3a03bd4.JPG\" alt=\"17-1  PASS-TA\"></p>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/137826538-740da409-982e-47d2-9c3c-a5145c448c0f.JPG\" alt=\"17-2  PASS-TA\"></p>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/137826541-a91b2483-47b6-4ccd-8f3c-99ffa6ed746f.JPG\" alt=\"17-3  PASS-TA\"></p>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/137826545-c6f60546-2e74-4b10-91b9-25cabe4916bd.JPG\" alt=\"17-4  PASS-TA\"></p>\n<h2 id=\"파스타-55-version---semini\" style=\"position:relative;\"><a href=\"#%ED%8C%8C%EC%8A%A4%ED%83%80-55-version---semini\" aria-label=\"파스타 55 version   semini permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>파스타 5.5 version - SEMINI</h2>\n<ul>\n<li>PaaS-TA의 최신 버전(v5.5) 이며, <u>오픈소스 기반의 클라우드파운드리와 쿠버네티스 기반의 컨테이터플랫폼을 제공</u>하여 앱의 개발 및 배포, 실행, 운영관리 서비스 제공</li>\n<li>세미니의 특징</li>\n</ul>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/137826546-10a785b5-9c9a-4ded-a797-1c6ab1097246.JPG\" alt=\"17-5  PASS-TA\"></p>\n<ul>\n<li>플랫폼별 병행 운영 가능(이전 버전에서는 불가능)</li>\n</ul>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/137826549-e452689a-0c0e-47f6-a455-9ac42c860944.JPG\" alt=\"17-6  PASS-TA\"></p>\n<h2 id=\"핵심-기능\" style=\"position:relative;\"><a href=\"#%ED%95%B5%EC%8B%AC-%EA%B8%B0%EB%8A%A5\" aria-label=\"핵심 기능 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>핵심 기능</h2>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/137826551-9a15172d-d35d-49c8-b2a4-3329bba6be06.JPG\" alt=\"17-7  PASS-TA\"></p>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/137826554-b60100b4-65e0-4ecf-9b79-9d7ad7ffaa18.JPG\" alt=\"17-8  PASS-TA\"></p>\n<h2 id=\"파스타-플랫폼-사용-가이드\" style=\"position:relative;\"><a href=\"#%ED%8C%8C%EC%8A%A4%ED%83%80-%ED%94%8C%EB%9E%AB%ED%8F%BC-%EC%82%AC%EC%9A%A9-%EA%B0%80%EC%9D%B4%EB%93%9C\" aria-label=\"파스타 플랫폼 사용 가이드 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>파스타 플랫폼 사용 가이드</h2>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/137826558-eb068fef-58f2-4883-b514-b41e280a4e44.JPG\" alt=\"17-9  PASS-TA\"></p>\n<h2 id=\"파스타의-장점\" style=\"position:relative;\"><a href=\"#%ED%8C%8C%EC%8A%A4%ED%83%80%EC%9D%98-%EC%9E%A5%EC%A0%90\" aria-label=\"파스타의 장점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>파스타의 장점</h2>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/137826560-cceba17a-939c-4fd2-a997-c69188d7cf84.JPG\" alt=\"18  good\"></p>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/137826562-c0e59287-6734-469e-a733-5f0b24d287be.JPG\" alt=\"18-1  good\"></p>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/137826563-7f395c0c-f068-4234-8f0b-f26d1ee1155c.JPG\" alt=\"18-2  good\"></p>\n<h2 id=\"핵심-정리\" style=\"position:relative;\"><a href=\"#%ED%95%B5%EC%8B%AC-%EC%A0%95%EB%A6%AC\" aria-label=\"핵심 정리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>핵심 정리</h2>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/137826565-c354c956-b38c-497a-aee0-fc85e8a2cfd9.JPG\" alt=\"19  summary\"></p>\n<h2 id=\"paas-ta-배포를-위한-기본-구성\" style=\"position:relative;\"><a href=\"#paas-ta-%EB%B0%B0%ED%8F%AC%EB%A5%BC-%EC%9C%84%ED%95%9C-%EA%B8%B0%EB%B3%B8-%EA%B5%AC%EC%84%B1\" aria-label=\"paas ta 배포를 위한 기본 구성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>PaaS-TA 배포를 위한 기본 구성</h2>\n<h3 id=\"iaas-종류\" style=\"position:relative;\"><a href=\"#iaas-%EC%A2%85%EB%A5%98\" aria-label=\"iaas 종류 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>IaaS 종류</h3>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/137826566-e70dec94-3f64-4ebd-9883-6e96cc39c88d.JPG\" alt=\"19-1  Iaas\"></p>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/137826568-f4d26dc3-f2a0-4d2a-bbad-9b999c3aba3c.JPG\" alt=\"19-2  Iaas\"></p>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/137826570-47c96206-443c-4c83-bcae-2bf7f2a3d6f7.JPG\" alt=\"19-3  Iaas\"></p>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/137826571-9f95fdb5-77fd-4d22-8eba-78c29b15381e.JPG\" alt=\"19-4  Iaas\"></p>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/137826573-d26e3947-357f-4b3c-b169-7ddf7a90ca50.JPG\" alt=\"19-5  Iaas\"></p>\n<h2 id=\"bosh-개념\" style=\"position:relative;\"><a href=\"#bosh-%EA%B0%9C%EB%85%90\" aria-label=\"bosh 개념 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>BOSH 개념</h2>\n<ul>\n<li>IaaS를 제어하는 프로그램으로 VM를 설치하거나 관리하는 도구</li>\n</ul>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/137826574-fe57657a-388e-4ea6-a6c0-af0d9597732d.JPG\" alt=\"20  bosh\"></p>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/137826575-d3d890b9-d5d3-49ba-bdd3-ef38a530d5a1.JPG\" alt=\"20-1  bosh\"></p>\n<ul>\n<li>Bosh를 통해서 설치할 수 있는 프로그램을 <u>릴리즈</u>라고 합니다.</li>\n</ul>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/137826576-aad5b23a-87b1-4755-8441-098bc3e798e4.JPG\" alt=\"20-2  bosh\"></p>\n<h3 id=\"bosh-컴포넌트-구성\" style=\"position:relative;\"><a href=\"#bosh-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8-%EA%B5%AC%EC%84%B1\" aria-label=\"bosh 컴포넌트 구성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>BOSH 컴포넌트 구성</h3>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/137826577-ed1bcd48-3908-4c48-83f2-17c17ab662dc.JPG\" alt=\"20-3  bosh\"></p>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/137826579-d5c7c333-32cc-4738-a951-10a867a9a413.JPG\" alt=\"20-4  bosh\"></p>\n<h3 id=\"bosh-구성요소\" style=\"position:relative;\"><a href=\"#bosh-%EA%B5%AC%EC%84%B1%EC%9A%94%EC%86%8C\" aria-label=\"bosh 구성요소 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Bosh 구성요소</h3>\n<ul>\n<li>대표적으로 총 3가지가 있음(Release, Stemcell, Manifest)</li>\n</ul>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/138245992-7f4dac29-ae3f-45b7-a698-1e21776621bf.JPG\" alt=\"1  bosh 구성요소\"></p>\n<h4 id=\"릴리즈-구성요소\" style=\"position:relative;\"><a href=\"#%EB%A6%B4%EB%A6%AC%EC%A6%88-%EA%B5%AC%EC%84%B1%EC%9A%94%EC%86%8C\" aria-label=\"릴리즈 구성요소 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>릴리즈 구성요소</h4>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/138245998-68d53988-adf9-4b78-8c71-0687ac648d3b.JPG\" alt=\"2  릴리즈 구성요소\"></p>\n<h4 id=\"stemcell의-구성요소\" style=\"position:relative;\"><a href=\"#stemcell%EC%9D%98-%EA%B5%AC%EC%84%B1%EC%9A%94%EC%86%8C\" aria-label=\"stemcell의 구성요소 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Stemcell의 구성요소</h4>\n<ul>\n<li>Stemcell은 VM에 올라가는 Agent를 의미함</li>\n<li><u>OS이미지와 Agent를 설치해서 하나의 파일을 만든 것이 Stemcell</u> 이라고 불려짐</li>\n</ul>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/138246000-e9201f66-94b9-442a-b241-65dce141805a.JPG\" alt=\"3  스템쉘 구성요소\"></p>\n<h4 id=\"manifest\" style=\"position:relative;\"><a href=\"#manifest\" aria-label=\"manifest permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Manifest</h4>\n<ul>\n<li>\n<p>BOSH Deployment manifest는 components 요소 및 배포의 속성을 정의한 YAML 파일</p>\n<ul>\n<li>Deployment manifest 에는 sotfware를 설치 하기 위해서 어떤 <u>Stemcell(OS, BOSH agent)</u> 을 사용할 것이며,</li>\n<li><u>Release(Software packages, Config templates, Scripts) 이름과 버전, VMs 용량, Jobs params</u> 등을 정의하여 Bosh deploy CLI 을 이용하여 software(여기서는 서비스팩)를 설치 함</li>\n</ul>\n</li>\n</ul>\n<h4 id=\"bosh1-vs-bosh2\" style=\"position:relative;\"><a href=\"#bosh1-vs-bosh2\" aria-label=\"bosh1 vs bosh2 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Bosh1 vs Bosh2</h4>\n<ul>\n<li>기존 버전인 Bosh1은 Bosh-CLI를 통해 Bosh-VM를 생성하고, PaaS-TA의 컨트롤러와 컨테이너를 따로 생성해주어야 했지만,</li>\n<li>Bosh2는 Bosh-CLI를 통해 Bosh-VM를 생성하고, <u>PaaS-TA의 컨트롤러와 컨테이너를 한번에 설치할 수 있음</u></li>\n</ul>\n<h2 id=\"paas-ta를-설치하기-위한-bosh-환경-구성-설명\" style=\"position:relative;\"><a href=\"#paas-ta%EB%A5%BC-%EC%84%A4%EC%B9%98%ED%95%98%EA%B8%B0-%EC%9C%84%ED%95%9C-bosh-%ED%99%98%EA%B2%BD-%EA%B5%AC%EC%84%B1-%EC%84%A4%EB%AA%85\" aria-label=\"paas ta를 설치하기 위한 bosh 환경 구성 설명 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>PaaS-TA를 설치하기 위한 Bosh 환경 구성 설명</h2>\n<h3 id=\"directorboshvm\" style=\"position:relative;\"><a href=\"#directorboshvm\" aria-label=\"directorboshvm permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Director(BoshVM)</h3>\n<ul>\n<li><strong>PaaS-TA를 설치하기 위해 필요한 패키지 및 라이브러리, Manifest 파일 등의 환경을 가지고 있는 배포 작업 및 실행 서버</strong></li>\n<li>Inception 서버는 BOSH 설치와 BOSH의 Director를 설정</li>\n<li><u>환경 구성에 있어서 전제조건으로 Inception 서버는 외부와 통신이 가능해야 함</u></li>\n</ul>\n<h4 id=\"paas-ta를-설치하기-위한-bosh-파일-구성\" style=\"position:relative;\"><a href=\"#paas-ta%EB%A5%BC-%EC%84%A4%EC%B9%98%ED%95%98%EA%B8%B0-%EC%9C%84%ED%95%9C-bosh-%ED%8C%8C%EC%9D%BC-%EA%B5%AC%EC%84%B1\" aria-label=\"paas ta를 설치하기 위한 bosh 파일 구성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Paas-TA를 설치하기 위한 Bosh 파일 구성</h4>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/138246004-0578e910-b7e5-4ef7-bda8-7ed1b1374c41.JPG\" alt=\"5  보쉬 가상머신 설치\"></p>\n<h4 id=\"deployment-이하-디렉토리\" style=\"position:relative;\"><a href=\"#deployment-%EC%9D%B4%ED%95%98-%EB%94%94%EB%A0%89%ED%86%A0%EB%A6%AC\" aria-label=\"deployment 이하 디렉토리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>deployment 이하 디렉토리</h4>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/138246006-5215caec-b803-465c-aa99-13fbb066d88c.JPG\" alt=\"5-1  보쉬 가상머신 설치\"></p>\n<h4 id=\"release-stemcell-파일-구성\" style=\"position:relative;\"><a href=\"#release-stemcell-%ED%8C%8C%EC%9D%BC-%EA%B5%AC%EC%84%B1\" aria-label=\"release stemcell 파일 구성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>release, stemcell 파일 구성</h4>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/138246009-9628cf15-8586-470d-9cdf-0b7bbf06d4c6.JPG\" alt=\"5-2  보쉬 가상머신 설치\"></p>\n<h4 id=\"미리-알아두기\" style=\"position:relative;\"><a href=\"#%EB%AF%B8%EB%A6%AC-%EC%95%8C%EC%95%84%EB%91%90%EA%B8%B0\" aria-label=\"미리 알아두기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>미리 알아두기</h4>\n<ul>\n<li>Bosh-VM 생성 시, IaaS 설정은 Bosh-Command를 이용해야 하며, <u>각각의 IaaS 마다 옵션 값이 변경될 수 있음</u></li>\n</ul>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/138246011-a1b72037-ce62-4f6e-8547-3509f88197ec.JPG\" alt=\"5-3  보쉬 가상머신 설치\"></p>\n<h2 id=\"bosh-아키텍처일반적-테스트로컬-환경\" style=\"position:relative;\"><a href=\"#bosh-%EC%95%84%ED%82%A4%ED%85%8D%EC%B2%98%EC%9D%BC%EB%B0%98%EC%A0%81-%ED%85%8C%EC%8A%A4%ED%8A%B8%EB%A1%9C%EC%BB%AC-%ED%99%98%EA%B2%BD\" aria-label=\"bosh 아키텍처일반적 테스트로컬 환경 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Bosh 아키텍처(일반적, 테스트(로컬) 환경)</h2>\n<ul>\n<li>\n<p>실습 때, bosh-lite를 이용할 예정</p>\n<ul>\n<li>Bosh에서 자체적으로 제공해주고 있음</li>\n</ul>\n</li>\n<li>\n<p>일반적인 Bosh 아키텍처 이용 시, <u>각각의 Bosh 컴포넌트를 VM으로 만들어 운영함</u>(uaa, diego, blob store, credhub)</p>\n<ul>\n<li>물론 BoshVM 또한 VM이며, IaaS 환경에서 PaaS-TA의 VM를 관리하기 위한 도구이자 VM임</li>\n</ul>\n</li>\n<li>Bosh-lite(테스트 환경)을 이용 시, <u>BoshVM 안에 각각의 Bosh 컴포넌트를 컨테이너화 시켜서 운영함</u></li>\n</ul>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/138246003-b16902ee-31ce-4a7a-b6d9-c05d0071d954.JPG\" alt=\"4  보쉬 전체 아키텍처\"></p>\n<h2 id=\"lab-1---bosh-설치\" style=\"position:relative;\"><a href=\"#lab-1---bosh-%EC%84%A4%EC%B9%98\" aria-label=\"lab 1   bosh 설치 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>LAB 1 - BOSH 설치</h2>\n<blockquote>\n<p>VMware를 통한 Inception(VM)의 설치 과정은 생략<br>\n<a href=\"https://nextcloud.paas-ta.org/index.php/s/ARmoNN83XGgt2gg\">Paas-TA 5.5 설치 링크</a></p>\n</blockquote>\n<ul>\n<li>파스타 설치에 필요한 파일 다운로드 및 압축 해제 스크립트</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> <span class=\"token function\">install</span> <span class=\"token function\">curl</span>\n$ <span class=\"token function\">mkdir</span> workspace\n<span class=\"token comment\"># (workspace 아래에 PaaS-TA 설치 파일 다운로드 후 압축 해제)</span>\n$ <span class=\"token builtin class-name\">cd</span> workspace\n$ <span class=\"token function\">curl</span> -Lo paasta-5.5.zip https://nextcloud.paasta.org/index.php/s/ARmoNN83XGgt2gg/download\n$ <span class=\"token function\">unzip</span> paasta-5.5.zip</code></pre></div>\n<ul>\n<li>Bosh 설치</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">curl</span> -Lo ./bosh https://s3.amazonaws.com/bosh-cli-artifacts/bosh-cli-6.1.0-linux-amd64\n$ <span class=\"token function\">chmod</span> +x ./bosh\n$ <span class=\"token function\">sudo</span> <span class=\"token function\">mv</span> ./bosh /usr/local/bin/bosh\n$ bosh -v</code></pre></div>\n<ul>\n<li>종속성 파일 설치</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">sudo</span> <span class=\"token function\">apt-get</span> <span class=\"token function\">install</span> -y build-essential zlibc zlib1g-dev ruby ruby-dev openssl libxslt1-dev libxml2-dev libssl-dev libreadline7 libreadline-dev libyaml-dev libsqlite3-dev sqlite3</code></pre></div>\n<ul>\n<li>Bosh-VM(Bosh-lite)를 생성하기 위한 VirtualBox 설치</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> update\n$ <span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> upgrade\n$ <span class=\"token function\">wget</span> -q https://www.virtualbox.org/download/oracle_vbox_2016.asc -O- <span class=\"token operator\">|</span> <span class=\"token function\">sudo</span> apt-key <span class=\"token function\">add</span> -\n$ <span class=\"token function\">wget</span> -q https://www.virtualbox.org/download/oracle_vbox.asc -O- <span class=\"token operator\">|</span> <span class=\"token function\">sudo</span> apt-key <span class=\"token function\">add</span> -\n$ <span class=\"token function\">sudo</span> add-apt-repository <span class=\"token string\">\"deb http://download.virtualbox.org/virtualbox/debian bionic contrib\"</span>\n$ <span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> update\n$ <span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> <span class=\"token function\">install</span> virtualbox-6.0\n$ VBoxManage --version\n<span class=\"token comment\"># 6.0.14r133895</span></code></pre></div>\n<ul>\n<li>bosh-deployment 폴더 확인</li>\n</ul>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/138246017-62fb411c-ec6d-4f8e-9b5e-476bc5d25728.JPG\" alt=\"7  bosh-deployment 폴더\"></p>\n<ul>\n<li>\n<p>실습에 사용할 Bosh-lite 쉘 스크립트의 정보</p>\n<ul>\n<li><u>위에서도 언급했지만, 각각의 IaaS 마다 설정해줘야 하는 설정 값은 다름</u>(동일한 부분도 존재)</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">cat</span> deploy-bosh-lite.sh\n\n<span class=\"token comment\">#!/bin/bash</span>\n\nbosh create-env bosh.yml <span class=\"token punctuation\">\\</span>\n\t--state<span class=\"token operator\">=</span>warden/state.json <span class=\"token punctuation\">\\</span>\n\t--vars-store warden/creds.yml <span class=\"token punctuation\">\\</span>\t\t<span class=\"token comment\"># bosh 인증정보를 가지고 있으며, 해당 파일을 이용해 bosh에 로그인</span>\n\t-o virtualbox/cpi.yml <span class=\"token punctuation\">\\</span>\n\t-o virtualbox/outbound-network.yml <span class=\"token punctuation\">\\</span>\n\t-o bosh-lite.yml <span class=\"token punctuation\">\\</span>\n\t-o bosh-lite-runc.yml <span class=\"token punctuation\">\\</span>\n\t-o uaa.yml <span class=\"token punctuation\">\\</span>\n\t-o credhub.yml <span class=\"token punctuation\">\\</span>\t\t\t\t\t<span class=\"token comment\"># Credhub은 인증정보 저장소, Bosh 설치 시 credhub.yml을 적용하면 PaaS-TA 설치 시 인증정보를 credhub에 저장하게 됨</span>\n\t-o jumpbox-user.yml <span class=\"token punctuation\">\\</span>\t\t\t\t<span class=\"token comment\"># bosh VM에 접근하기 위한 인증을 적용하는 파일</span>\n\t-v <span class=\"token assign-left variable\">inception_os_user_name</span><span class=\"token operator\">=</span><span class=\"token string\">'ubuntu'</span> <span class=\"token punctuation\">\\</span>\n\t-v <span class=\"token assign-left variable\">director_name</span><span class=\"token operator\">=</span><span class=\"token string\">'micro-bosh'</span> <span class=\"token punctuation\">\\</span>\n\t-v <span class=\"token assign-left variable\">internal_cidr</span><span class=\"token operator\">=</span><span class=\"token string\">'10.0.1.0/24'</span> <span class=\"token punctuation\">\\</span>\n\t-v <span class=\"token assign-left variable\">internal_gw</span><span class=\"token operator\">=</span><span class=\"token string\">'10.0.1.1'</span> <span class=\"token punctuation\">\\</span>\n\t-v <span class=\"token assign-left variable\">internal_ip</span><span class=\"token operator\">=</span><span class=\"token string\">'10.0.1.6'</span> <span class=\"token punctuation\">\\</span>\n\t-v <span class=\"token assign-left variable\">network_name</span><span class=\"token operator\">=</span><span class=\"token string\">'vboxnet0'</span> <span class=\"token punctuation\">\\</span>\n\t-v <span class=\"token assign-left variable\">outbound_network_name</span><span class=\"token operator\">=</span><span class=\"token string\">'NatNetwork'</span></code></pre></div>\n<ul>\n<li>[참고] IaaS 마다 설정해줘야 하는 쉘 스크립트 차이 확인(AWS와 Bosh-lite 비교)</li>\n</ul>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/138246014-6b0a8680-5de5-4397-91be-4d9423d8ba5d.JPG\" alt=\"6  boshvm 배포\"></p>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/138246016-30d1556f-f5a1-440e-b75a-1f98297d8ed7.JPG\" alt=\"6-1  boshvm 배포\"></p>\n<ul>\n<li>\n<p>BOSH-VM 배포</p>\n<ul>\n<li><em>~/workspace/paasta-5.5/deployment/bosh-deployment</em> 이하 디렉토리에는 IaaS별 bosh를 설치 하는 shell이 존재</li>\n<li><code class=\"language-text\">{iaas}</code>은 해당하는 IaaS의 이름(bosh-lite, Openstack, AWS, GCP etc..)</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token builtin class-name\">cd</span> ~/workspace/paasta-5.5/deployment/bosh-deployment\n$ <span class=\"token function\">chmod</span> <span class=\"token number\">755</span> *.sh\n$ ./deploy-<span class=\"token punctuation\">{</span>iaas<span class=\"token punctuation\">}</span>.sh</code></pre></div>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/138246019-19720946-c213-4a9e-bd3e-76d5cb0232e2.JPG\" alt=\"8  bosh deploy\"></p>\n<ul>\n<li>Bosh Alias 설정</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ bosh alias-env micro-bosh -e <span class=\"token number\">10.0</span>.1.6 --ca-cert <span class=\"token operator\">&lt;</span><span class=\"token punctuation\">(</span>bosh int warden/creds.yml --path /director_ssl/ca<span class=\"token punctuation\">)</span></code></pre></div>\n<div class=\"quote-block\">\n<div class=\"quote-block__emoji\">💡</div>\n<div class=\"quote-block__content\" markdown=1>\n<p>BoshVM login 방법은 총 2가지가 있음</p>\n<ol>\n<li>login 쉘을 통해 boshVM에 로그인 후 명령어를 이용하는 방법</li>\n<li>boshVM 안에 접속하기 위한 jumpbox.key를 생성해 SSH로 로그인하는 방법</li>\n</ol>\n</div>\n</div>\n<ul>\n<li>Bosh login 쉘 스크립트 생성</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">vi</span> login.sh\n\n<span class=\"token comment\">#!/usr/bin</span>\n\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">BOSH_CA_CERT</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span>bosh int ./warden/creds.yml --path /director_ssl/ca<span class=\"token variable\">)</span></span>\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">BOSH_CLIENT</span><span class=\"token operator\">=</span>admin\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">BOSH_CLIENT_SECRET</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span>bosh int ./warden/creds.yml --path /admin_password<span class=\"token variable\">)</span></span></code></pre></div>\n<ul>\n<li>Bosh login 쉘 적용 및 확인(login.sh 을 이용해 bosh에 로그인)</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token builtin class-name\">source</span> login.sh\n$ bosh -e micro-bosh <span class=\"token function\">env</span></code></pre></div>\n<ul>\n<li>\n<p>jumpbox key 생성 (Bosh VM 로그인 용)</p>\n<ul>\n<li>SSH로 BoshVM에 로그인하기 위한 jumpbox key 생성</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ bosh int warden/creds.yml --path /jumpbox_ssh/private_key <span class=\"token operator\">></span> jumpbox.key\n$ <span class=\"token function\">chmod</span> <span class=\"token number\">600</span> jumpbox.key</code></pre></div>\n<ul>\n<li>BoshVM으로 배포된 프로그램 process 확인 (bosh vm or paas-ta vm ssh 접속 후 이용)</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">ssh</span> jumpbox@10.0.1.6 -i jumpbox.key <span class=\"token comment\"># boshVM 로그인</span>\nbosh/0:~$ <span class=\"token function\">sudo</span> <span class=\"token function\">su</span>\n$ monit summary</code></pre></div>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/138246022-70f4544f-7cb3-4302-8565-fa75c2fdc83b.JPG\" alt=\"9  프로세서 확인\"></p>\n<ul>\n<li>boshVM에 배포된 process 정지 및 시작 명령어</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># 정지 명령어</span>\n$ monit stop credhub\n<span class=\"token comment\"># 시작 명령어</span>\n$ monit start credhub\n<span class=\"token comment\"># boshVM에서 나가기</span>\n$ <span class=\"token builtin class-name\">exit</span> <span class=\"token comment\"># root 계정 logout</span>\n$ <span class=\"token builtin class-name\">exit</span> <span class=\"token comment\"># jumpbox 계정 logout</span></code></pre></div>\n<ul>\n<li>\n<p>credhub cli 설치</p>\n<ul>\n<li>server쪽에 not found가 뜨는 이유는 로그인을 하지 않았기 떄문에 나타나는 현상임</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token builtin class-name\">cd</span> ~\n$ <span class=\"token function\">wget</span> https://github.com/cloudfoundry-incubator/credhub-cli/releases/download/2.0.0/credhub-linux-2.0.0.tgz\n$ <span class=\"token function\">tar</span> -xvf credhub-linux-2.0.0.tgz\n$ <span class=\"token function\">chmod</span> +x credhub\n$ <span class=\"token function\">sudo</span> <span class=\"token function\">mv</span> credhub /usr/local/bin/credhub\n$ credhub --version</code></pre></div>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/138246025-8d27a7a2-1565-4c89-9fbc-f21735f62b37.JPG\" alt=\"10  credhub\"></p>\n<ul>\n<li>credhub shell 생성</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token builtin class-name\">cd</span> ~/workspace/paasta-5.5/deployment/bosh-deployment\n$ <span class=\"token function\">vi</span> credhub_login.sh\n<span class=\"token punctuation\">..</span>.\n<span class=\"token comment\">#!/usr/bin</span>\n\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">CREDHUB_CLIENT</span><span class=\"token operator\">=</span>credhub-admin\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">CREDHUB_SECRET</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span>bosh int --path /credhub_admin_client_secret warden/creds.yml<span class=\"token variable\">)</span></span>\n<span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">CREDHUB_CA_CERT</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span>bosh int --path /credhub_tls/ca warden/creds.yml<span class=\"token variable\">)</span></span>\n<span class=\"token punctuation\">..</span>.</code></pre></div>\n<ul>\n<li>credhub shell 쉘 적용</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token builtin class-name\">cd</span> ~/workspace/paasta-5.5/deployment/bosh-deployment\n$ <span class=\"token builtin class-name\">source</span> credhub_login.sh</code></pre></div>\n<ul>\n<li>credhub 로그인</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ credhub login -s https://10.0.1.6:8844 --skip-tls-validation</code></pre></div>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/138246026-7a62cc52-0fdf-45b3-9e9e-7bf152ca5ffb.JPG\" alt=\"10-1  credhub\"></p>\n<ul>\n<li>\n<p>credhub credentials 확인</p>\n<ul>\n<li>credentials 인증 정보가 하나도 조회되지 않는데, 이는 boshVM만 생성하고 아무런 작업을 하지 않아 나타나는 현상</li>\n<li>boshVM에 process VM를 배포하게 되면, <u><strong>credhub에 인증정보가 저장됩니다.</strong></u></li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ credhub <span class=\"token function\">find</span></code></pre></div>\n<ul>\n<li>VirtualBox 환경저장 및 종료(boshVM)</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># /home/ubuntu/workspace/paasta-5.5/deployment/bosh-deployment 해당 디렉토리에서 정지 작업을 해야함</span>\n$ <span class=\"token builtin class-name\">cd</span> /home/ubuntu/workspace/paasta-5.5/deployment/bosh-deployment\n$ vboxmanage controlvm <span class=\"token variable\"><span class=\"token variable\">$(</span>bosh int warden/state.json --path /current_vm_cid<span class=\"token variable\">)</span></span> savestate</code></pre></div>\n<ul>\n<li>\n<p>이후 Inception 서버 종료</p>\n<ul>\n<li><strong><u>Inception 서버 재기동 시, VirtualBox를 받드시 재기동 해야함</u></strong></li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># Virtual Box vm 복구</span>\n$ <span class=\"token builtin class-name\">cd</span> /home/ubuntu/workspace/paasta-5.5/deployment/bosh-deployment\n$ vboxmanage startvm <span class=\"token variable\"><span class=\"token variable\">$(</span>bosh int warden/state.json --path /current_vm_cid<span class=\"token variable\">)</span></span> --type headless</code></pre></div>\n<h2 id=\"bosh를-통한-paas-ta-구축-방법\" style=\"position:relative;\"><a href=\"#bosh%EB%A5%BC-%ED%86%B5%ED%95%9C-paas-ta-%EA%B5%AC%EC%B6%95-%EB%B0%A9%EB%B2%95\" aria-label=\"bosh를 통한 paas ta 구축 방법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>BOSH를 통한 PaaS-TA 구축 방법</h2>\n<h3 id=\"cloud-config\" style=\"position:relative;\"><a href=\"#cloud-config\" aria-label=\"cloud config permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Cloud-config</h3>\n<h4 id=\"미리-알아두기-1\" style=\"position:relative;\"><a href=\"#%EB%AF%B8%EB%A6%AC-%EC%95%8C%EC%95%84%EB%91%90%EA%B8%B0-1\" aria-label=\"미리 알아두기 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>미리 알아두기</h4>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/138425196-0c9578d9-1c04-4b93-b025-251fa952fb43.JPG\" alt=\"1  파스타구축cloud-config\"></p>\n<h4 id=\"yaml-파일에-정리된-스크립트-용어정리\" style=\"position:relative;\"><a href=\"#yaml-%ED%8C%8C%EC%9D%BC%EC%97%90-%EC%A0%95%EB%A6%AC%EB%90%9C-%EC%8A%A4%ED%81%AC%EB%A6%BD%ED%8A%B8-%EC%9A%A9%EC%96%B4%EC%A0%95%EB%A6%AC\" aria-label=\"yaml 파일에 정리된 스크립트 용어정리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>yaml 파일에 정리된 스크립트 용어정리</h4>\n<ul>\n<li><code class=\"language-text\">azs</code>는 가용 zone에 대한 설정으로 paasta가 설치될 zone에 대한 정의</li>\n<li><code class=\"language-text\">vm_type</code>은 paasta vm이 설치될 spec을 정의하며, <code class=\"language-text\">instance_type</code>은 openstack flavor에 설정 되어 있어야 함</li>\n<li><code class=\"language-text\">compilation</code>은 PaaS-TA 설치 시 Compile VM이 생성될 <u>zone 및 vm type을 설정</u></li>\n<li><code class=\"language-text\">disk_types</code>는 PaaS-TA 설치 시 사용될 <u>VM의 디스크에 대한 정의</u></li>\n<li><code class=\"language-text\">network</code>은 paasta vm이 생성될 <u>network관련 정의</u></li>\n<li><code class=\"language-text\">vm_extentions</code>는 관련 보안 그룹 및 로드 밸런서와 같은 <u>임의의 IaaS 특정 구성을 지정할 수 있는 클라우드 구성의 가상 컴퓨터 구성</u></li>\n<li>\n<p>설정된 cloud-config.yml 파일을 배포하는 명렁어</p>\n<ul>\n<li>아래 코드는 <u>bosh-lite IaaS</u>을 기준으로 함</li>\n</ul>\n</li>\n</ul>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/138425199-ba66708a-632d-452b-8486-084f14807569.JPG\" alt=\"1-1  파스타구축cloud-config\"></p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># Cloud-config설정 정보를 BOSH에 update</span>\n$ <span class=\"token builtin class-name\">cd</span> ~/workspace/paasta-5.5/deployment/cloud-config\n$ bosh –e <span class=\"token punctuation\">{</span>director_name<span class=\"token punctuation\">}</span> update-cloud-config <span class=\"token punctuation\">{</span>iaas<span class=\"token punctuation\">}</span>_cloud_config.yml\n<span class=\"token comment\"># bosh에 upload된 cloud-config 확인</span>\n$ bosh –e <span class=\"token punctuation\">{</span>director_name<span class=\"token punctuation\">}</span> cloud-config</code></pre></div>\n<ul>\n<li>bosh에 upload된 cloud-config 확인</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ bosh –e <span class=\"token punctuation\">{</span>director_name<span class=\"token punctuation\">}</span> cloud-config</code></pre></div>\n<h3 id=\"runtime-config설정-정보를-bosh에-update-예제\" style=\"position:relative;\"><a href=\"#runtime-config%EC%84%A4%EC%A0%95-%EC%A0%95%EB%B3%B4%EB%A5%BC-bosh%EC%97%90-update-%EC%98%88%EC%A0%9C\" aria-label=\"runtime config설정 정보를 bosh에 update 예제 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>runtime-config설정 정보를 BOSH에 update 예제</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token builtin class-name\">cd</span> ~/workspace/paasta-5.5/deployment/bosh-deployment\n$ <span class=\"token function\">chmod</span> <span class=\"token number\">755</span> ./update-runtime-config.sh\n$ <span class=\"token function\">cat</span> ./update-runtime-config.sh\n\n<span class=\"token punctuation\">[</span>update-runtime-config.sh<span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">..</span>.\nbosh -e <span class=\"token variable\">${director_name}</span> update-runtime-config -n runtime-configs/dns.yml <span class=\"token punctuation\">\\</span>\n-v <span class=\"token assign-left variable\">inception_os_user_name</span><span class=\"token operator\">=</span><span class=\"token variable\">${inception_os_user_name}</span> <span class=\"token punctuation\">\\</span>\n-v <span class=\"token assign-left variable\">cert_days</span><span class=\"token operator\">=</span><span class=\"token number\">3650</span>\n<span class=\"token punctuation\">..</span>.\n\n$ ./update-runtime-config.sh</code></pre></div>\n<ul>\n<li>bosh에 upload된 runtime-config 확인</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ bosh –e <span class=\"token punctuation\">{</span>director_name<span class=\"token punctuation\">}</span> runtime-config</code></pre></div>\n<h3 id=\"stemcell-파일을-bosh에-update-예제\" style=\"position:relative;\"><a href=\"#stemcell-%ED%8C%8C%EC%9D%BC%EC%9D%84-bosh%EC%97%90-update-%EC%98%88%EC%A0%9C\" aria-label=\"stemcell 파일을 bosh에 update 예제 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Stemcell 파일을 BOSH에 update 예제</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token builtin class-name\">cd</span> ~/workspace/paasta-5.5/stemcell/paasta\n$ bosh –e <span class=\"token punctuation\">{</span>director_name<span class=\"token punctuation\">}</span> upload-stemcell bosh-stemcell-315.64-<span class=\"token punctuation\">{</span>iaas<span class=\"token punctuation\">}</span>-\nubuntu-xenial-go-agent.tgz</code></pre></div>\n<ul>\n<li>bosh에 upload된 Stemcell 확인</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ bosh –e <span class=\"token punctuation\">{</span>director_name<span class=\"token punctuation\">}</span> stemcells</code></pre></div>\n<h3 id=\"manifest-파일-분석-및-배포-예시\" style=\"position:relative;\"><a href=\"#manifest-%ED%8C%8C%EC%9D%BC-%EB%B6%84%EC%84%9D-%EB%B0%8F-%EB%B0%B0%ED%8F%AC-%EC%98%88%EC%8B%9C\" aria-label=\"manifest 파일 분석 및 배포 예시 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>manifest 파일 분석 및 배포 예시</h3>\n<ul>\n<li><strong><em>paasta-deployment.yml</em> 파일은 paasta를 deploy하는 manifest file</strong></li>\n<li>paasta vm에 대한 설치를 정의</li>\n<li><u>vm중 singleton-blobstore, database의 azs(zone)을 변경 하면 Org &#x26; Space 및 app의 정보가 모두 삭제됨</u></li>\n<li>아래 option들은 존재 하지 않으면 bosh가 자동 생성해줌</li>\n</ul>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/138062379-7f4aee9f-48b5-4234-b548-c20e5a4befa5.JPG\" alt=\"1  manifest 파일 분석 및 배포예시\"></p>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/138425203-fa877337-dfef-49da-8e96-e5e7374c50a7.JPG\" alt=\"2  매니페스트파일\"></p>\n<ul>\n<li>PaaS-TA Deploy 실행</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ ./deploy-bosh-lite.sh</code></pre></div>\n<ul>\n<li>PaaS-TA Deploy VM 확인</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ bosh -e <span class=\"token punctuation\">{</span>director_name<span class=\"token punctuation\">}</span> –d <span class=\"token punctuation\">{</span>deploy_name<span class=\"token punctuation\">}</span> vms</code></pre></div>\n<h2 id=\"lab-2---boshvm에-paas-ta-구축-실습\" style=\"position:relative;\"><a href=\"#lab-2---boshvm%EC%97%90-paas-ta-%EA%B5%AC%EC%B6%95-%EC%8B%A4%EC%8A%B5\" aria-label=\"lab 2   boshvm에 paas ta 구축 실습 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>LAB 2 - BoshVM에 PaaS-TA 구축 실습</h2>\n<p>BoshVM에 파스타를 설치할 정보를 <u>Cloud-config, runtime-config, stemcell</u> 를 확인 및 구축하기</p>\n<ul>\n<li>Virtual Box vm 복구<strong><u>(이전에 VM 종료 시 꼭 다시 실행!)</u></strong></li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token builtin class-name\">cd</span> /home/ubuntu/workspace/paasta-5.5/deployment/bosh-deployment\n$ vboxmanage startvm <span class=\"token variable\"><span class=\"token variable\">$(</span>bosh int warden/state.json --path /current_vm_cid<span class=\"token variable\">)</span></span> --type headless</code></pre></div>\n<ul>\n<li>Bosh login</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token builtin class-name\">cd</span> ~/workspace/paasta-5.5/deployment/bosh-deployment\n$ <span class=\"token builtin class-name\">source</span> login.sh</code></pre></div>\n<ul>\n<li>Bosh login 확인</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ bosh -e micro-bosh <span class=\"token function\">env</span></code></pre></div>\n<ul>\n<li>cloud-config 적용</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ bosh -e micro-bosh update-cloud-config bosh-lite-cloud-config.yml</code></pre></div>\n<ul>\n<li>cloud-config 설정 확인</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token builtin class-name\">cd</span> ~/workspace/paasta-5.5/deployment/bosh-deployment\n$ bosh -e micro-bosh cloud-config</code></pre></div>\n<ul>\n<li>\n<p>update-runtime-config.sh 스크립트 확인</p>\n<ul>\n<li><code class=\"language-text\">-n runtime-configs/dns.yml</code> : 런타임 정보가 들어있는 스크립트</li>\n<li><code class=\"language-text\">-v cert_days=3650</code> : 인증 기간을 나타냄</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token shebang important\">#!/bin/bash</span>\n<span class=\"token comment\"># 디렉토리 네임</span>\n<span class=\"token assign-left variable\">director_name</span><span class=\"token operator\">=</span><span class=\"token string\">'micro-bosh'</span>\n<span class=\"token comment\"># os_user_name</span>\n<span class=\"token assign-left variable\">inception_os_user_name</span><span class=\"token operator\">=</span><span class=\"token string\">'ubuntu'</span>\n\nbosh -e <span class=\"token variable\">${director_name}</span> update-runtime-config -n runtime-configs/dns.yml <span class=\"token punctuation\">\\</span>\n\t-v <span class=\"token assign-left variable\">inception_os_user_name</span><span class=\"token operator\">=</span><span class=\"token variable\">${inception_os_user_name}</span> <span class=\"token punctuation\">\\</span>\n\t-v <span class=\"token assign-left variable\">cert_days</span><span class=\"token operator\">=</span><span class=\"token number\">3650</span></code></pre></div>\n<ul>\n<li>runtime config 등록</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ ./update-runtime-config.sh</code></pre></div>\n<ul>\n<li>runtime config 확인</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ bosh -e micro-bosh runtime-config</code></pre></div>\n<ul>\n<li>\n<p>bosh config 전체 확인</p>\n<ul>\n<li>cloud : IaaS 설정 config(cloud-config.yml)</li>\n<li>runtime : runtime 설정(runtime/dns.yml)</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ bosh -e micro-bosh configs</code></pre></div>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/138425206-80cf1480-2d47-4393-90f4-d624ec9e8169.JPG\" alt=\"3  config 정보확인\"></p>\n<ul>\n<li>stemcell 등록</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token builtin class-name\">cd</span> ~/workspace/paasta-5.5/stemcell/paasta\n$ bosh -e micro-bosh upload-stemcell bosh-stemcell-315.64-warden-boshlite-ubuntu-xenial-go_agent.tgz</code></pre></div>\n<ul>\n<li>stemcell 등록 확인</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ bosh -e micro-bosh stemcells</code></pre></div>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/138425210-3d6cea5a-f0c8-473c-9ad9-addf2dcab254.JPG\" alt=\"3-1  config 정보확인\"></p>\n<ul>\n<li>파스타 배포하기</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">cd</span> ~/workspace/paasta-5.5/deployment/paasta-deployment\n$ ./deploy-bosh-lite.sh</code></pre></div>\n<ul>\n<li>IP route 설정 (bosh-lite를 이용할때)</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">sudo</span> <span class=\"token function\">ip</span> route <span class=\"token function\">add</span>   <span class=\"token number\">10.244</span>.0.0/16 via <span class=\"token number\">10.0</span>.1.6</code></pre></div>\n<h2 id=\"기타-실습\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%ED%83%80-%EC%8B%A4%EC%8A%B5\" aria-label=\"기타 실습 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>기타 실습</h2>\n<ul>\n<li>\n<p>PaaS-TA VM에서 생성된 instances를 출력하는 명령어(배포되지 않은 것도 포함해서 나옴)</p>\n<ul>\n<li>배포를 누가 했는지 출력</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ bosh -e micro-bosh instances</code></pre></div>\n<ul>\n<li>BoshVM 정보의 상세정보 확인(로그인 정보, 인증 유효기간 확인)</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ bosh -e micro-bosh <span class=\"token function\">env</span> --details</code></pre></div>\n<ul>\n<li>현재 올라가 있는 스템셀 정보 확인</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ bosh -e micro-bosh stemcells</code></pre></div>\n<ul>\n<li>VM에 어떤 releases 정보가 들어가 있는지 알아보는 명령어</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ bosh -e micro-bosh releases</code></pre></div>\n<ul>\n<li>현재 실행중인 TASK들을 확인</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ bosh -e micro-bosh tasks --recent</code></pre></div>\n<ul>\n<li>작업중 오류가 발생해 lock이 걸린 TASK를 보여줌</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ bosh -e micro-bosh locks</code></pre></div>\n<ul>\n<li>TASK-ID이용해서 TASK를 종료</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ bosh -e micro-bosh cancel-task <span class=\"token number\">123</span></code></pre></div>\n<ul>\n<li>\n<p>배포된 VM 정보 &#x26;&#x26; 디스크, CPU, 메모리에 대한 정보를 종합 확인</p>\n<ul>\n<li><code class=\"language-text\">--vitals</code> 옵션 : 디테일하게 확인</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ bosh -e micro-bosh -d paasta vms --vitals</code></pre></div>\n<ul>\n<li>\n<p>PaaS-TA에 배포된 VM들을 확인(instances 명령어와는 다르게 VM에 배포된 instances 들만 출력)</p>\n<ul>\n<li>VM에 대한 정보 포함해서 알려줌</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ bosh -e micro-bosh -d paasta vms</code></pre></div>\n<ul>\n<li>\n<p>API VM에 접속</p>\n<ul>\n<li>API VM이 여러 개일 시 뒤에 고유번호도 적어줘야함</li>\n<li>BoshVM 안에 접속하려면 jumpbox.key를 이용해야했던 거와 같이 <u>paasta 안에 접속하려면 api로 접근</u></li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ bosh -e micro-bosh -d paasta <span class=\"token function\">ssh</span> api</code></pre></div>\n<ul>\n<li>\n<p>만약 접속한 VM에서 에러가 발생할 시 로그 확인 경로</p>\n<ul>\n<li><u>vm에 로그인하게되면 var/vcap 경로에서 여러 정보를 열람할 수 있음.</u></li>\n<li>내부 오류 발생시 이곳에서 sys/log 에 들어가 로그를 확인하거나, 파일 링크 상태(jobs), 에이전트에 대한 정보, 파일들을 볼 수 있음.</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token builtin class-name\">cd</span> var/vcap/sys/log</code></pre></div>\n<h2 id=\"paas-ta를-사용하기-위한-cf-cli-설치-및-명령어-사용\" style=\"position:relative;\"><a href=\"#paas-ta%EB%A5%BC-%EC%82%AC%EC%9A%A9%ED%95%98%EA%B8%B0-%EC%9C%84%ED%95%9C-cf-cli-%EC%84%A4%EC%B9%98-%EB%B0%8F-%EB%AA%85%EB%A0%B9%EC%96%B4-%EC%82%AC%EC%9A%A9\" aria-label=\"paas ta를 사용하기 위한 cf cli 설치 및 명령어 사용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>PaaS-TA를 사용하기 위한 cf-cli 설치 및 명령어 사용</h2>\n<ul>\n<li>설치를 위한 레포지토리 키 등록 및 레포지토리 등록</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">wget</span> -q -O - https://packages.cloudfoundry.org/debian/cli.cloudfoundry.org.key <span class=\"token operator\">|</span> <span class=\"token function\">sudo</span> apt-key <span class=\"token function\">add</span> -\n$ <span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"deb https://packages.cloudfoundry.org/debian stable main\"</span> <span class=\"token operator\">|</span> <span class=\"token function\">sudo</span> <span class=\"token function\">tee</span> /etc/apt/sources.list.d/cloudfoundry-cli.list</code></pre></div>\n<ul>\n<li>레포지토리 업데이트 &#x26;&#x26; Cloud Foundary 에서 제공하는 cf-cli 설치 &#x26;&#x26; 버전 확인</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> update\n$ <span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> <span class=\"token function\">install</span> cf-cli\n$ cf -v</code></pre></div>\n<ul>\n<li>\n<p>cf login</p>\n<ul>\n<li><code class=\"language-text\">--skip-ssl-validation</code> 옵션 : PaaS-TA에 로그인 시, SSL 인증 절차를 거치지 않았기 때문에 해당 사이트를 신뢰하고 검증하지 않아도 된다는 명령어</li>\n<li>이후에 API-Endpoint 을 입력하는 창이 나오게 되는데, 이는 <u>VM 안에 설치된 PaaS-TA에게 어디에 접속해야 하는지 알려줘야 하므로, 설정하는 옵션임</u></li>\n<li>해당 URL은 paasta를 배포할 때, 스크립트에서 설정한 <code class=\"language-text\">-v system_domain=10.244.0.34.nip.io</code> 옵션에 해당되며, 해당 URL를 api로 사용하기 때문에 api 도메인을 입력 후 서브 도메인을(10.244.0.34.nip.io) 입력해주는 것임</li>\n<li>다른 도메인을 사용한다고 하더라도, api 도메인 입력 후 서브 도메인을 입력할 것</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ cf login --skip-ssl-validation\n<span class=\"token punctuation\">(</span>명령 수행 후 API Endpoit <span class=\"token builtin class-name\">:</span>  이 뜨면 아래 https://api.10.244.0.34.nip.io 를 입력한다<span class=\"token punctuation\">)</span>\n\n$ https://api.10.244.0.34.nip.io <span class=\"token comment\"># SSL 인증서를 인증하지 않았기 때문에 해당 PaaS-TA ip를 허용한다고 알려줘야함</span>\n\n<span class=\"token comment\"># passta deployment에서 로그인 정보 변경 가능</span>\n$ admin/admin <span class=\"token comment\"># 관리자로 로그인 - 이메일/패스워드 입력</span></code></pre></div>\n<ul>\n<li>\n<p>로그인 후 화면 모습</p>\n<ul>\n<li>Org는 자동적으로 설정됨(admin 계정이 하나이므로)</li>\n<li>Space는 설정되지 않은 모습</li>\n</ul>\n</li>\n</ul>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/138887176-29720432-0d4e-4879-9362-860f87a04f7e.JPG\" alt=\"1  클라우드파운데이션 로그인\"></p>\n<blockquote>\n<p>자세한 cf 명령어에 대한 정보는 <code class=\"language-text\">cf --help</code> or <code class=\"language-text\">cf --help -a</code> 명령어로 확인 가능</p>\n</blockquote>\n<ul>\n<li>user 생성</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># $ cf create-user --help 처럼 --help 명령어 사용가능</span>\n$ cf create-user edu-user user</code></pre></div>\n<ul>\n<li>org 생성</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ cf create-org edu-org\n$ cf orgs</code></pre></div>\n<ul>\n<li>\n<p>space 생성</p>\n<ul>\n<li><code class=\"language-text\">-o</code> 옵션 : organization 을 뜻하며, -o 옵션을 붙이지 않을 시, 기본적으로 현재 설정된 org에 space 공간을 만듬</li>\n<li>현재 설정된 정보를 확인하는 명령어는 <code class=\"language-text\">cf target</code> 명령어임</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ cf create-space -o edu-org edu-space\n$ cf spaces</code></pre></div>\n<ul>\n<li>\n<p>org role 설정</p>\n<ul>\n<li>자세한 정보는 <code class=\"language-text\">cf set-org-role --help</code> 명령어로 확인 가능</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ cf set-org-role edu-user edu-org OrgManager</code></pre></div>\n<ul>\n<li>\n<p>space role 설정</p>\n<ul>\n<li>자세한 정보는 <code class=\"language-text\">cf set-space-role --help</code> 명령어로 확인 가능</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ cf set-space-role edu-user edu-org edu-space SpaceDeveloper</code></pre></div>\n<ul>\n<li>생성한 org, space의 타켓을 설정함</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ cf target -o edu-org -s edu-space  <span class=\"token punctuation\">(</span>아니면 cf target -o edu-org<span class=\"token punctuation\">)</span></code></pre></div>\n<h2 id=\"lab-3---cf에서-제공해주는-spring-music-애플리케이션-배포해보기\" style=\"position:relative;\"><a href=\"#lab-3---cf%EC%97%90%EC%84%9C-%EC%A0%9C%EA%B3%B5%ED%95%B4%EC%A3%BC%EB%8A%94-spring-music-%EC%95%A0%ED%94%8C%EB%A6%AC%EC%BC%80%EC%9D%B4%EC%85%98-%EB%B0%B0%ED%8F%AC%ED%95%B4%EB%B3%B4%EA%B8%B0\" aria-label=\"lab 3   cf에서 제공해주는 spring music 애플리케이션 배포해보기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>LAB 3 - CF에서 제공해주는 spring-music 애플리케이션 배포해보기</h2>\n<ul>\n<li>자바 8버전 설치</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> update\n$ <span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> <span class=\"token function\">install</span> openjdk-8-jdk\n$ java -version</code></pre></div>\n<ul>\n<li>git 설치</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> <span class=\"token function\">install</span> <span class=\"token function\">git</span>\n$ <span class=\"token function\">git</span> --version</code></pre></div>\n<ul>\n<li>\n<p>spring-music 다운로드 및 빌드</p>\n<ul>\n<li>gredle 로 해당 파일을 빌드</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token builtin class-name\">cd</span> ~/workspace\n$ <span class=\"token function\">git</span> clone https://github.com/cloudfoundry-samples/spring-music\n$ <span class=\"token builtin class-name\">cd</span> spring-music/\n$ ./gradlew clean assemble</code></pre></div>\n<ul>\n<li>manifest 파일 확인</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">cat</span> manifest.yml\n\n---\napplications:\n- name: spring-music\n  memory: 1G\n  random-route: <span class=\"token boolean\">true</span> <span class=\"token comment\"># URL을 자동적으로 만들어줌</span>\n  path: build/libs/spring-music-1.0.jar\n  env:\n    JBP_CONFIG_SPRING_AUTO_RECONFIGURATION: <span class=\"token string\">'{enabled: false}'</span>\n    SPRING_PROFILES_ACTIVE: http2\n<span class=\"token comment\">#    JBP_CONFIG_OPEN_JDK_JRE: '{ jre: { version: 11.+ } }'</span></code></pre></div>\n<ul>\n<li>\n<p>cf push 명령어로 애플리케이션 배포 및 애플리케이션 확인(아래는 push의 과정을 설명)</p>\n<ol>\n<li>droplet 이미지를 만듬</li>\n<li>blobstore에 이미지를 저장</li>\n<li>blobstore에 저장한 이미지인 droplet 이미지 파일을 꺼내서 diegoCell 에 graden를 만듬</li>\n<li>이후 garden 위에 컨테이너 형태로 애플리케이션을 배포</li>\n<li>cf apps로 배포된 애플리케이션 확인 가능</li>\n<li>이때 위에서 본 manifest.yml 파일에서 설정한 <code class=\"language-text\">random-route: true</code> 로 인해 URL이 자동적으로 생성되고, apps 명령어를 통해 확인이 가능</li>\n</ol>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ cf push\n$ cf apps</code></pre></div>\n<ul>\n<li>로그 확인</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ cf app spring-music\n$ cf logs spring-music\n$ cf logs spring-music --recent</code></pre></div>\n<ul>\n<li>cf를 이용한 ssh 터널링</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ cf <span class=\"token function\">ssh</span> welcome-cf -L <span class=\"token number\">9999</span>:10.10.4.14:3306</code></pre></div>","frontmatter":{"title":"[교육] PaaS-TA 교육2일차","date":"October 19, 2021","category":"☁️ cloud"}}},"pageContext":{"slug":"/cloud/[교육]20211019 - PaaS-TA 교육2일차/","previous":{"fields":{"slug":"/cloud/[교육]20211018 - PaaS-TA 교육1일차/"},"frontmatter":{"title":"[교육] PaaS-TA 교육1일차","category":"☁️ cloud","draft":false}},"next":{"fields":{"slug":"/cloud/[시험] PaaS-TA 시험 복기/"},"frontmatter":{"title":"[시험] PaaS-TA 시험 복기","category":"☁️ cloud","draft":false}}}},"staticQueryHashes":["3128451518","521680639"]}