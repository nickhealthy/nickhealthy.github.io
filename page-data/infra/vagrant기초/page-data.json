{"componentChunkName":"component---src-templates-blog-post-js","path":"/infra/vagrant기초/","result":{"data":{"site":{"siteMetadata":{"title":"Woo's Dev Log","author":"nickhealthy","siteUrl":"https://nickhealthy.github.io","comment":{"disqusShortName":"","utterances":"nickhealthy/nickhealthy.github.io"},"sponsor":{"buyMeACoffeeId":""}}},"markdownRemark":{"id":"a49e8ca5-3f8b-5ff7-847f-2e3efde697ed","excerpt":"Vagrant 란 ? 가상화(Virtualization)는 실제 운영체제 위에 가상화 소프트웨어를 설치한 후에 소프트웨어를 통해 하드웨어(CPU, Memory, Disk, NIC 등)를 에뮬레이션한 후에 이 위에 운영체제(Guest OS)를 설치하는 것을 의미한다. 가상화를 해 주는 소프트웨어를 하이퍼바이저(Hypervisor) 라고 하며, 종류로는 이 책에서 사용하는 VirtualBox, 그리고 VMWare, Xen…","html":"<h2 id=\"vagrant-란-\" style=\"position:relative;\"><a href=\"#vagrant-%EB%9E%80-\" aria-label=\"vagrant 란  permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Vagrant 란 ?</h2>\n<p>가상화(Virtualization)는 실제 운영체제 위에 가상화 소프트웨어를 설치한 후에 소프트웨어를 통해 하드웨어(CPU, Memory, Disk, NIC 등)를 에뮬레이션한 후에 이 위에 운영체제(Guest OS)를 설치하는 것을 의미한다.<br>\n<strong>가상화를 해 주는 소프트웨어를 하이퍼바이저(Hypervisor)</strong> 라고 하며,<br>\n종류로는 이 책에서 사용하는 VirtualBox, 그리고 VMWare, Xen 등이 있다.</p>\n<p>여러 운영체제와 애플리케이션을 구동하는 개발 환경 등 복잡한 환경을 추상화할 수 있는 좋은 방법이지만<br>\n<strong>매번 가상 머신을 설치하고 관리해야 하는 부담이 있고 대상이 PC에서 가상 머신으로 옮기는 작업을 했을 뿐이다.</strong></p>\n<p><b style=\"color:red\">Vagrant 는 이런 문제를 해결하기 위한 솔루션으로 설정 스크립트를 기반으로 특정 환경의 가상 머신을 만들어서 신속하게 개발 환경을 구축하고 공유할 수 있게 만들어진 솔루션이다.</b><br>\n쉽게 말해 vagrant는 <a href=\"https://www.vagrantup.com/\">HashiCorp</a> 사에서 제공하는 <strong>가상 환경 구축 도구</strong>이다.</p>\n<blockquote>\n<p>Vagrant vs Terraform<br>\nVagrant는 개발 환경 관리에 중점을 둔 도구이고, Terraform은 인프라 구축을위한 도구입니다.<br>\nTerraform의 주요 용도는 AWS와 같은 클라우드 공급자의 원격 리소스를 관리하는 것입니다.<br>\nVagrant는 주로 최대 소수의 가상 머신 만 사용하는 로컬 개발 환경을 위해 설계되었습니다.\n<a href=\"https://www.vagrantup.com/intro/vs/terraform\">https://www.vagrantup.com/intro/vs/terraform</a></p>\n</blockquote>\n<h2 id=\"vagrantfile로-인프라를-구성했을-때-장점\" style=\"position:relative;\"><a href=\"#vagrantfile%EB%A1%9C-%EC%9D%B8%ED%94%84%EB%9D%BC%EB%A5%BC-%EA%B5%AC%EC%84%B1%ED%96%88%EC%9D%84-%EB%95%8C-%EC%9E%A5%EC%A0%90\" aria-label=\"vagrantfile로 인프라를 구성했을 때 장점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Vagrantfile로 인프라를 구성했을 때 장점</h2>\n<ul>\n<li>환경 구축 작업이 간소</li>\n<li>환경 공유 용이</li>\n<li>환경 파악 용이</li>\n<li>팀 차원의 유지보수 가능</li>\n</ul>\n<h2 id=\"vagrant-명령어\" style=\"position:relative;\"><a href=\"#vagrant-%EB%AA%85%EB%A0%B9%EC%96%B4\" aria-label=\"vagrant 명령어 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Vagrant 명령어</h2>\n<table>\n<thead>\n<tr>\n<th align=\"center\">명령어</th>\n<th align=\"center\">설명</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"center\">vagrant init</td>\n<td align=\"center\">Vagrantfile 템플릿을 생성</td>\n</tr>\n<tr>\n<td align=\"center\">vagrant up</td>\n<td align=\"center\">가성머신을 생성하고 가동</td>\n</tr>\n<tr>\n<td align=\"center\">vagrant ssh-config</td>\n<td align=\"center\">SSH 접속을 위한 프라이빗 키 파일이 있는 위치를 확인 가능</td>\n</tr>\n<tr>\n<td align=\"center\">vagrant snapshot</td>\n<td align=\"center\">스냅샷 생성</td>\n</tr>\n<tr>\n<td align=\"center\">vagrant halt</td>\n<td align=\"center\">가상 머신을 중지</td>\n</tr>\n<tr>\n<td align=\"center\">vagrant destroy</td>\n<td align=\"center\">가상 머신을 삭제</td>\n</tr>\n<tr>\n<td align=\"center\">vagrant provision</td>\n<td align=\"center\">프로비저닝 스크립트 추가 후, 작성된 내용을 가성머신에 반영 및 실행</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"box-개념\" style=\"position:relative;\"><a href=\"#box-%EA%B0%9C%EB%85%90\" aria-label=\"box 개념 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Box 개념</h2>\n<p>스크립트에 적힌 <code class=\"language-text\">.box</code> 파일 확장자는<br>\nVM를 만들기 위한 기본 OS 이미지를 포함한 VM 설정(CPU, 메모리 사이즈 등)에 대한 기본 템플릿이다.<br>\n<a href=\"http://www.vagrantbox.es/\">http://www.vagrantbox.es</a> 에 보면 공개된 box 파일 확인이 가능<br>\n또한 VM에 대한 하드웨어 설정을 재정의 할 수도 있다.</p>\n<h2 id=\"provisioning-개념\" style=\"position:relative;\"><a href=\"#provisioning-%EA%B0%9C%EB%85%90\" aria-label=\"provisioning 개념 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Provisioning 개념</h2>\n<p>개발환경을 구축하려면 <strong>각각 목적에 맞게 필요한 설치 파일 &#x26; 설정을 다르게 구성</strong>해야한다.<br>\n물론 미리 필요한 파일들을 설정해놓고 VM를 가동 시킬 수도 있지만, 이럴경우 매번 다른 VM 이미지를 만들어놔야 하기 때문에 번거로운 작업이 될 수 있다.<br>\n이것을 해결하기 위해 고안된게 provisioning 기능이다.<br>\nVM이 가동된 후에 <code class=\"language-text\">Vagrantfile</code>에 정의된 <code class=\"language-text\">provisioning script</code>를 수행해 준다.</p>\n<h2 id=\"vagrantfile-작성-예제\" style=\"position:relative;\"><a href=\"#vagrantfile-%EC%9E%91%EC%84%B1-%EC%98%88%EC%A0%9C\" aria-label=\"vagrantfile 작성 예제 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Vagrantfile 작성 예제</h2>\n<div class=\"gatsby-highlight\" data-language=\"vagrant\"><pre class=\"language-vagrant\"><code class=\"language-vagrant\"># -*- mode: ruby -*-\n# vi: set ft=ruby :\n\nVagrant.configure(&quot;2&quot;) do |config|\n# config.vm.box = &quot;centos/7&quot;\n  config.vm.box = &quot;generic/centos7&quot;\n  config.vm.hostname = &quot;demo&quot;\n  config.vm.network &quot;private_network&quot;, ip: &quot;192.168.33.10&quot;\n  config.vm.synced_folder &quot;.&quot;, &quot;/home/vagrant/sync&quot;, disabled: true\n  # 프로비저닝 추가\n  config.vm.provision &quot;shell&quot;, inline: $script\nend\n\n# 프로비저닝 스크립트 추가\n$script = &lt;&lt;SCRIPT\n  yum install -y epel-release\n  yum install -y nginx\n  echo &quot;Hello, Vagrant&quot; &gt; /usr/share/nginx/html/index.html\n  systemctl start nginx\nSCRIPT</code></pre></div>\n<h2 id=\"-별첨-vagrant-init시-내용\" style=\"position:relative;\"><a href=\"#-%EB%B3%84%EC%B2%A8-vagrant-init%EC%8B%9C-%EB%82%B4%EC%9A%A9\" aria-label=\" 별첨 vagrant init시 내용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>⭐ 별첨 vagrant init시 내용</h2>\n<div class=\"gatsby-highlight\" data-language=\"vagrant\"><pre class=\"language-vagrant\"><code class=\"language-vagrant\"># -*- mode: ruby -*-\n# vi: set ft=ruby :\n\n# All Vagrant configuration is done below. The &quot;2&quot; in Vagrant.configure\n# configures the configuration version (we support older styles for\n# backwards compatibility). Please don&#39;t change it unless you know what\n# you&#39;re doing.\nVagrant.configure(&quot;2&quot;) do |config|\n  # The most common configuration options are documented and commented below.\n  # For a complete reference, please see the online documentation at\n  # https://docs.vagrantup.com.\n\n  # Every Vagrant development environment requires a box. You can search for\n  # boxes at https://vagrantcloud.com/search.\n  config.vm.box = &quot;base&quot;\n\n  # Disable automatic box update checking. If you disable this, then\n  # boxes will only be checked for updates when the user runs\n  # `vagrant box outdated`. This is not recommended.\n  # config.vm.box_check_update = false\n\n  # Create a forwarded port mapping which allows access to a specific port\n  # within the machine from a port on the host machine. In the example below,\n  # accessing &quot;localhost:8080&quot; will access port 80 on the guest machine.\n  # NOTE: This will enable public access to the opened port\n  # config.vm.network &quot;forwarded_port&quot;, guest: 80, host: 8080\n\n  # Create a forwarded port mapping which allows access to a specific port\n  # within the machine from a port on the host machine and only allow access\n  # via 127.0.0.1 to disable public access\n  # config.vm.network &quot;forwarded_port&quot;, guest: 80, host: 8080, host_ip: &quot;127.0.0.1&quot;\n\n  # Create a private network, which allows host-only access to the machine\n  # using a specific IP.\n  # config.vm.network &quot;private_network&quot;, ip: &quot;192.168.33.10&quot;\n\n  # Create a public network, which generally matched to bridged network.\n  # Bridged networks make the machine appear as another physical device on\n  # your network.\n  # config.vm.network &quot;public_network&quot;\n\n  # Share an additional folder to the guest VM. The first argument is\n  # the path on the host to the actual folder. The second argument is\n  # the path on the guest to mount the folder. And the optional third\n  # argument is a set of non-required options.\n  # config.vm.synced_folder &quot;../data&quot;, &quot;/vagrant_data&quot;\n\n  # Provider-specific configuration so you can fine-tune various\n  # backing providers for Vagrant. These expose provider-specific options.\n  # Example for VirtualBox:\n  #\n  # config.vm.provider &quot;virtualbox&quot; do |vb|\n  #   # Display the VirtualBox GUI when booting the machine\n  #   vb.gui = true\n  #\n  #   # Customize the amount of memory on the VM:\n  #   vb.memory = &quot;1024&quot;\n  # end\n  #\n  # View the documentation for the provider you are using for more\n  # information on available options.\n\n  # Enable provisioning with a shell script. Additional provisioners such as\n  # Ansible, Chef, Docker, Puppet and Salt are also available. Please see the\n  # documentation for more information about their specific syntax and use.\n  # config.vm.provision &quot;shell&quot;, inline: &lt;&lt;-SHELL\n  #   apt-get update\n  #   apt-get install -y apache2\n  # SHELL\nend</code></pre></div>\n<br />\n<h3 id=\"참고-사이트\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0-%EC%82%AC%EC%9D%B4%ED%8A%B8\" aria-label=\"참고 사이트 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>참고 사이트</h3>\n<p><a href=\"#\">멀티캠퍼스 교육</a><br>\n<a href=\"https://www.lesstif.com/laravelprog/vagrant-24445417.html\">https://www.lesstif.com/laravelprog/vagrant-24445417.html</a><br>\n<a href=\"https://bcho.tistory.com/806\">https://bcho.tistory.com/806</a></p>\n<br />\n<a href='#'><small class='up-button'>위로 올라가기💨</small></a>\n<br />","frontmatter":{"title":"Vagrant 기초","date":"January 11, 2021","category":"🧱 infra"}}},"pageContext":{"slug":"/infra/vagrant기초/","previous":{"fields":{"slug":"/solving-algo/[programmers]_소수찾기/"},"frontmatter":{"title":"[programmers]소수찾기","category":"💯 solving-algo","draft":false}},"next":{"fields":{"slug":"/Kubernetes/1.Kubernetes기초/"},"frontmatter":{"title":"#1 Kubernetes 들어가기","category":"🧭 Kubernetes","draft":false}}}},"staticQueryHashes":["3128451518","521680639"]}