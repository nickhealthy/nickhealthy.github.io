{"componentChunkName":"component---src-templates-blog-post-js","path":"/docker/[ë”°ë°°ë„] - ì»¨í…Œì´ë„ˆ ë¦¬ì†ŒìŠ¤ ê´€ë¦¬í•˜ê¸°/","result":{"data":{"site":{"siteMetadata":{"title":"Woo's Dev Log","author":"nickhealthy","siteUrl":"https://nickhealthy.github.io","comment":{"disqusShortName":"","utterances":"nickhealthy/nickhealthy.github.io"},"sponsor":{"buyMeACoffeeId":""}}},"markdownRemark":{"id":"721d6596-1d9a-532b-851d-70b69a800cac","excerpt":"ì»¨í…Œì´ë„ˆ ë¦¬ì†ŒìŠ¤ ê´€ë¦¬ ëª…ë ¹ì–´ë¥¼ ë°°ì›Œë´…ì‹œë‹¤. (ë©”ëª¨ë¦¬, CPU, Block I/O, cAdvisor) ì»¨í…Œì´ë„ˆ í•˜ë“œì›¨ì–´ ë¦¬ì†ŒìŠ¤ ì œí•œ ê¸°ë³¸ì ìœ¼ë¡œ ì»¨í…Œì´ë„ˆëŠ” í˜¸ìŠ¤íŠ¸ í•˜ë“œì›¨ì–´ ë¦¬ì†ŒìŠ¤ì˜ ì‚¬ìš© ì œí•œì„ ë°›ì§€ ì•ŠìŠµë‹ˆë‹¤. ì»¨í…Œì´ë„ˆì˜ ìì›ì„ ì ì ˆí•˜ê²Œ ì œí•œí•´ì•¼ íš¨ìœ¨ì ì¸ ìš´ì˜ì„ ì‹¤í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  ëª…ë ¹ì–´ë¥¼ í†µí•´ CPU, Memory, Disk I/Oâ€¦","html":"<p>ì»¨í…Œì´ë„ˆ ë¦¬ì†ŒìŠ¤ ê´€ë¦¬ ëª…ë ¹ì–´ë¥¼ ë°°ì›Œë´…ì‹œë‹¤.<br>\n(ë©”ëª¨ë¦¬, CPU, Block I/O, cAdvisor)</p>\n<h2 id=\"ì»¨í…Œì´ë„ˆ-í•˜ë“œì›¨ì–´-ë¦¬ì†ŒìŠ¤-ì œí•œ\" style=\"position:relative;\"><a href=\"#%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88-%ED%95%98%EB%93%9C%EC%9B%A8%EC%96%B4-%EB%A6%AC%EC%86%8C%EC%8A%A4-%EC%A0%9C%ED%95%9C\" aria-label=\"ì»¨í…Œì´ë„ˆ í•˜ë“œì›¨ì–´ ë¦¬ì†ŒìŠ¤ ì œí•œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì»¨í…Œì´ë„ˆ í•˜ë“œì›¨ì–´ ë¦¬ì†ŒìŠ¤ ì œí•œ</h2>\n<ul>\n<li>\n<p>ê¸°ë³¸ì ìœ¼ë¡œ ì»¨í…Œì´ë„ˆëŠ” í˜¸ìŠ¤íŠ¸ í•˜ë“œì›¨ì–´ ë¦¬ì†ŒìŠ¤ì˜ ì‚¬ìš© ì œí•œì„ ë°›ì§€ ì•ŠìŠµë‹ˆë‹¤.</p>\n<ul>\n<li><u>ì»¨í…Œì´ë„ˆì˜ ìì›ì„ ì ì ˆí•˜ê²Œ ì œí•œí•´ì•¼ íš¨ìœ¨ì ì¸ ìš´ì˜ì„ ì‹¤í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</u></li>\n<li><code class=\"language-text\">docker run --help</code> ëª…ë ¹ì–´ë¥¼ í†µí•´ CPU, Memory, Disk I/Oë¥¼ ì œí•œí•  ìˆ˜ ìˆìŒ</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"ë©”ëª¨ë¦¬-ë¦¬ì†ŒìŠ¤-ì œí•œ\" style=\"position:relative;\"><a href=\"#%EB%A9%94%EB%AA%A8%EB%A6%AC-%EB%A6%AC%EC%86%8C%EC%8A%A4-%EC%A0%9C%ED%95%9C\" aria-label=\"ë©”ëª¨ë¦¬ ë¦¬ì†ŒìŠ¤ ì œí•œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë©”ëª¨ë¦¬ ë¦¬ì†ŒìŠ¤ ì œí•œ</h3>\n<ul>\n<li>ì œí•œ ë‹¨ìœ„ëŠ” <code class=\"language-text\">b, k, m, g</code> ë¡œ í• ë‹¹</li>\n<li><code class=\"language-text\">--memory, -m</code> : ì»¨í…Œì´ë„ˆê°€ ì‚¬ìš©í•  ë•Œ ìµœëŒ€ ë©”ëª¨ë¦¬ ì–‘ì„ ì§€ì •</li>\n<li>\n<p><code class=\"language-text\">--memory-swap</code> : ì»¨í…Œì´ë„ˆê°€ ì‚¬ìš©í•  ìŠ¤ì™‘ ë©”ëª¨ë¦¬ ì˜ì—­ì— ëŒ€í•œ ì„¤ì •</p>\n<ul>\n<li>ë©”ëª¨ë¦¬+<strong>ìŠ¤ì™‘ ìƒëµ ì‹œ ë©”ëª¨ë¦¬ì˜ 2ë°°ê°€ ì„¤ì •ë¨</strong></li>\n</ul>\n</li>\n<li><code class=\"language-text\">--memory-reservation</code> : â€”memory ê°’ë³´ë‹¤ ì ì€ ê°’ìœ¼ë¡œ êµ¬ì„±í•˜ëŠ” ì†Œí”„íŠ¸ ì œí•œ ê°’ ì„¤ì •</li>\n<li><code class=\"language-text\">--oom-kill-disable</code> : OOM Kilerê°€ í”„ë¡œì„¸ìŠ¤ kill í•˜ì§€ ëª»í•˜ë„ë¡ ë³´í˜¸</li>\n</ul>\n<h3 id=\"cpu-ë¦¬ì†ŒìŠ¤-ì œí•œ\" style=\"position:relative;\"><a href=\"#cpu-%EB%A6%AC%EC%86%8C%EC%8A%A4-%EC%A0%9C%ED%95%9C\" aria-label=\"cpu ë¦¬ì†ŒìŠ¤ ì œí•œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CPU ë¦¬ì†ŒìŠ¤ ì œí•œ</h3>\n<ul>\n<li><code class=\"language-text\">--cpus</code> : ì»¨í…Œì´ë„ˆì— í• ë‹¹í•  CPU core ìˆ˜ë¥¼ ì§€ì •</li>\n<li><code class=\"language-text\">--cpuset-cpus</code> : ì»¨í…Œì´ë„ˆê°€ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” CPUë‚˜ ì½”ì–´ë¥¼ í• ë‹¹. cpu indexëŠ” 0ë¶€í„°.</li>\n<li>\n<p><code class=\"language-text\">--cpu-share</code> : ì»¨í…Œì´ë„ˆê°€ ì‚¬ìš©í•˜ëŠ” CPU ë¹„ì¤‘ì„ 1024 ê°’ì„ ê¸°ë°˜ìœ¼ë¡œ ì„¤ì •</p>\n<ul>\n<li>â€”cpu-share 2048 <strong>ê¸°ë³¸ ê°’ë³´ë‹¤ ë‘ë°° ë§ì€ CPU ìì›ì„ í• ë‹¹</strong></li>\n</ul>\n</li>\n</ul>\n<h3 id=\"block-io-ì œí•œ\" style=\"position:relative;\"><a href=\"#block-io-%EC%A0%9C%ED%95%9C\" aria-label=\"block io ì œí•œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Block I/O ì œí•œ</h3>\n<ul>\n<li><code class=\"language-text\">--blkio-weight / blkio-weight-device</code> : Block IOì˜ Quotaë¥¼ ì„¤ì •í•  ìˆ˜ ìˆìœ¼ë©° 100~1000ê¹Œì§€ ì„ íƒ, default 500</li>\n<li><code class=\"language-text\">--device-read/write-bps</code> : íŠ¹ì • ë””ë°”ì´ìŠ¤ì— ëŒ€í•œ ì½ê¸°ì™€ ì“°ê¸° ì‘ì—…ì˜ ì´ˆë‹¹ ì œí•œì„ kb, mb, gb ë‹¨ìœ„ë¡œ ì„¤ì •</li>\n<li><code class=\"language-text\">--device-read/write-iops</code> : ì»¨í…Œì´ë„ˆì˜ read/write ì†ë„ì˜ ì¿¼í„°ë¥¼ ì„¤ì •í•œë‹¤.</li>\n</ul>\n<h2 id=\"ì»¨í…Œì´ë„ˆ-ì‚¬ìš©-ë¦¬ì†ŒìŠ¤ë¥¼-í™•ì¸í•˜ëŠ”-ëª¨ë‹ˆí„°ë§-íˆ´\" style=\"position:relative;\"><a href=\"#%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88-%EC%82%AC%EC%9A%A9-%EB%A6%AC%EC%86%8C%EC%8A%A4%EB%A5%BC-%ED%99%95%EC%9D%B8%ED%95%98%EB%8A%94-%EB%AA%A8%EB%8B%88%ED%84%B0%EB%A7%81-%ED%88%B4\" aria-label=\"ì»¨í…Œì´ë„ˆ ì‚¬ìš© ë¦¬ì†ŒìŠ¤ë¥¼ í™•ì¸í•˜ëŠ” ëª¨ë‹ˆí„°ë§ íˆ´ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì»¨í…Œì´ë„ˆ ì‚¬ìš© ë¦¬ì†ŒìŠ¤ë¥¼ í™•ì¸í•˜ëŠ” ëª¨ë‹ˆí„°ë§ íˆ´</h2>\n<h3 id=\"docker-monitoring-commands\" style=\"position:relative;\"><a href=\"#docker-monitoring-commands\" aria-label=\"docker monitoring commands permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>docker monitoring commands</h3>\n<ul>\n<li>\n<p>docker stat : ì‹¤í–‰ì¤‘ì¸ ì»¨í…Œì´ë„ˆì˜ ëŸ°íƒ€ì„ í†µê³„ë¥¼ í™•ì¸</p>\n<ul>\n<li><code class=\"language-text\">docker stats [OPTIONS] [CONTAINER..]</code></li>\n</ul>\n</li>\n<li>docker event : ë„ì»¤ í˜¸ìŠ¤íŠ¸ì˜ ì‹¤ì‹œê°„ event ì •ë³´ë¥¼ ìˆ˜ì§‘í•´ì„œ ì¶œë ¥</li>\n<li>cAdvisor : êµ¬ê¸€ì—ì„œ ë§Œë“¬</li>\n</ul>\n<h2 id=\"ì‹¤ìŠµ\" style=\"position:relative;\"><a href=\"#%EC%8B%A4%EC%8A%B5\" aria-label=\"ì‹¤ìŠµ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì‹¤ìŠµ</h2>\n<h3 id=\"ë¶€í•˜í…ŒìŠ¤íŠ¸ë¥¼-í†µí•œ-ë¦¬ì†ŒìŠ¤-ì œí•œ-í•˜ê¸°\" style=\"position:relative;\"><a href=\"#%EB%B6%80%ED%95%98%ED%85%8C%EC%8A%A4%ED%8A%B8%EB%A5%BC-%ED%86%B5%ED%95%9C-%EB%A6%AC%EC%86%8C%EC%8A%A4-%EC%A0%9C%ED%95%9C-%ED%95%98%EA%B8%B0\" aria-label=\"ë¶€í•˜í…ŒìŠ¤íŠ¸ë¥¼ í†µí•œ ë¦¬ì†ŒìŠ¤ ì œí•œ í•˜ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë¶€í•˜í…ŒìŠ¤íŠ¸ë¥¼ í†µí•œ ë¦¬ì†ŒìŠ¤ ì œí•œ í•˜ê¸°</h3>\n<blockquote>\n<p>ë¶€í•˜í…ŒìŠ¤íŠ¸ì—ì„œ ì‚¬ìš©í•  ì»¨í…Œì´ë„ˆëŠ” <code class=\"language-text\">stress</code> íˆ´ì„ ì‚¬ìš©</p>\n</blockquote>\n<ul>\n<li>stress ë„ì»¤ íŒŒì¼ ë§Œë“¤ê¸°</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"dockerfile\"><pre class=\"language-dockerfile\"><code class=\"language-dockerfile\"><span class=\"token keyword\">FROM</span> debian\n<span class=\"token keyword\">RUN</span> apt<span class=\"token punctuation\">-</span>get update; apt<span class=\"token punctuation\">-</span>get install stress <span class=\"token punctuation\">-</span>y\n<span class=\"token keyword\">CMD</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\"/bin/sh\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"-c\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"stress -c 2\"</span><span class=\"token punctuation\">]</span></code></pre></div>\n<ul>\n<li>ë„ì»¤ íŒŒì¼ ë¹Œë“œ</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ docker build -t stress <span class=\"token builtin class-name\">.</span></code></pre></div>\n<h3 id=\"ë©”ëª¨ë¦¬-ë¦¬ì†ŒìŠ¤-ì œí•œ-1\" style=\"position:relative;\"><a href=\"#%EB%A9%94%EB%AA%A8%EB%A6%AC-%EB%A6%AC%EC%86%8C%EC%8A%A4-%EC%A0%9C%ED%95%9C-1\" aria-label=\"ë©”ëª¨ë¦¬ ë¦¬ì†ŒìŠ¤ ì œí•œ 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ë©”ëª¨ë¦¬ ë¦¬ì†ŒìŠ¤ ì œí•œ</h3>\n<div class=\"quote-block\">\n<div class=\"quote-block__emoji\">ğŸ’¡</div>\n<div class=\"quote-block__content\" markdown=1>\n<p>Swap Memory</p>\n<p>ëª¨ë“  ì»´í“¨í„° ìš´ì˜ì²´ì œì—ëŠ” ê°€ìƒë©”ëª¨ë¦¬ë¼ëŠ” ê²ƒì„ ì‚¬ìš©í•˜ê²Œ ë˜ëŠ”ë°<br>\në¦¬ëˆ…ìŠ¤ì—ì„œ ê°€ìƒë©”ëª¨ë¦¬ë¥¼ <strong>ìŠ¤ì™‘íŒŒì¼ì‹œìŠ¤í…œ</strong>ì´ë¼ê³  í•©ë‹ˆë‹¤.</p>\n</div>\n</div>\n<ul>\n<li>\n<p>swap ë©”ëª¨ë¦¬ ìš©ëŸ‰ ì œí•œì´ ì‹¤ì œ ë©”ëª¨ë¦¬ ì œí•œê³¼ ì–´ë–¤ ê´€ë ¨ì„±ì´ ìˆëŠ”ì§€ í™•ì¸í•´ë³¸ë‹¤.</p>\n<ul>\n<li><code class=\"language-text\">-m</code> : ë©”ëª¨ë¦¬ ì§€ì •</li>\n<li><code class=\"language-text\">--memory-swap</code> : ìŠ¤ì™‘ ë©”ëª¨ë¦¬ ì§€ì •</li>\n<li>ì¦‰, ì•„ë˜ì˜ ì˜ˆì‹œëŠ” ì „ì²´ì ì¸ ë©”ëª¨ë¦¬ 100m ì¤‘ ìŠ¤ì™‘ ë©”ëª¨ë¦¬ë¥¼ 100ë¥¼ ì¤Œìœ¼ë¡œì¨ ìŠ¤ì™‘ ë©”ëª¨ë¦¬ëŠ” ì´ìš©í•  ìˆ˜ ì—†ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.(200m ë¥¼ ì§€ì •í•˜ì˜€ìœ¼ë©´ ìŠ¤ì™‘ë©”ëª¨ë¦¬ëŠ” 100ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê²ƒì„)</li>\n<li><code class=\"language-text\">stress --vm 1 --vm-bytes 90m -t 5s</code> : stress íˆ´ì˜ ëª…ë ¹ì–´ ì°¸ê³ </li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ docker run -m 100m --memory-swap 100m stress:latest stress --vm <span class=\"token number\">1</span> --vm-bytes 90m -t 5s</code></pre></div>\n<ul>\n<li>\n<p>í• ë‹¹ ëœ ë©”ëª¨ë¦¬ë³´ë‹¤ ë†’ì€ ì‚¬ìš©ëŸ‰ì„ ì§€ì •í•˜ì˜€ì„ ë•Œ ì‹¤í–‰ ê²€ì¦</p>\n<ul>\n<li>ì‹¤í–‰ì´ ë˜ì§€ ì•ŠëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŒ(<code class=\"language-text\">--vm-bytes 150m</code> ë¶€ë¶„ë•Œë¬¸ì—)</li>\n</ul>\n</li>\n</ul>\n<blockquote>\n<p>ê°€ë” ì»¤ë„ì˜ ì„¤ì • ë¬¸ì œë¡œ ë©”ëª¨ë¦¬ ì œí•œ ì„¤ì •ì´ ì ìš©ì´ ì•ˆë˜ì–´ì„œ ì‹¤í–‰ì´ ë˜ëŠ” ê²½ìš°ê°€ ìˆëŠ”ë°,</p>\n<ol>\n<li>root ì‚¬ìš©ìë¡œ ì§„ì… í›„ <code class=\"language-text\">/etc/default/grub</code> íŒŒì¼ ìˆ˜ì •</li>\n<li>GRUB<em>CMDLINE</em>LINUX<em>DEFAULT=â€œcgroup</em>enable=memory swapaccount=1â€ ëª…ë ¹ì–´ ì¶”ê°€</li>\n<li><code class=\"language-text\">update-grub</code> ëª…ë ¹ì–´ ì…ë ¥</li>\n<li><code class=\"language-text\">reboot</code> ëª…ë ¹ì–´ ì…ë ¥</li>\n</ol>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ docker run -m 100m --memory-swap 100m stress:latest stress --vm <span class=\"token number\">1</span> --vm-bytes 150m -t 5s</code></pre></div>\n<h3 id=\"oom-killer\" style=\"position:relative;\"><a href=\"#oom-killer\" aria-label=\"oom killer permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>OOM-killer</h3>\n<div class=\"quote-block\">\n<div class=\"quote-block__emoji\">ğŸ’¡</div>\n<div class=\"quote-block__content\" markdown=1>\n<p>out-of-memory-killerë€?</p>\n<p>ë¦¬ëˆ…ìŠ¤ì—ì„œëŠ” ì•ˆì •ì ì¸ ì„œë²„ ìš´ì˜ì„ ìœ„í•´ í˜¸ìŠ¤íŠ¸ ë©”ëª¨ë¦¬ê°€ ë¶€ì¡±í•˜ê²Œ ë˜ë©´ í”„ë¡œì„¸ìŠ¤ë¥¼ ê°•ì œ ì¢…ë£Œí•˜ê²Œ ë©ë‹ˆë‹¤.</p>\n</div>\n</div>\n<ul>\n<li>OOM-killerë¡œ ê°•ì œ ì¢…ë£Œë˜ëŠ” ê²ƒì„ ë°©ì§€í•˜ê¸° ìœ„í•´ <code class=\"language-text\">--oom-killer-disable=ture</code> ëª…ë ¹ì„ í†µí•´ í”„ë¡œì„¸ìŠ¤ ê°•ì œ ì¢…ë£Œë¥¼ ë°©ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ docker run -d -m 100M --name m4 --oom-kill-disable<span class=\"token operator\">=</span>true nginx</code></pre></div>\n<ul>\n<li>\n<p><code class=\"language-text\">inspect</code> ëª…ë ¹ì–´ë¥¼ í†µí•´ ì»¨í…Œì´ë„ˆ ìƒì„¸ í™•ì¸</p>\n<ul>\n<li><code class=\"language-text\">&quot;Memory&quot;: 104857600, &quot;MemorySwap&quot;: 209715200,</code> : ìŠ¤ì™‘ë©”ëª¨ë¦¬ ë”°ë¡œ ì§€ì •ì„ ì•ˆí•´ì£¼ë‹ˆ ìë™ì ìœ¼ë¡œ 2ë°°ë¡œ ì‚°ì •ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>\n<li><code class=\"language-text\">&quot;OomKillDisable&quot;: true,</code> : OOM-killerê°€ ë¹„í™œì„±í™” ë˜ì—ˆìŠµë‹ˆë‹¤.</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ docker inspect m4</code></pre></div>\n<ul>\n<li>\n<p>ì»¨í…Œì´ë„ˆIDë¥¼ ì§ì ‘ ì¡°íšŒí•˜ëŠ” ë°©ì‹ìœ¼ë¡œ í™•ì¸</p>\n<ul>\n<li><code class=\"language-text\">oom_kill_disable</code> ì´ 1 ê°’ìœ¼ë¡œ ì„¤ì •ë˜ì–´ ìˆìŠµë‹ˆë‹¤.</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">cat</span> /sys/fs/cgroup/memory/docker/6b2d8b686ab6c9c43fb76fa1310ab3c16ea672f86980ed5d53394e42e7f7df26/memory.oom_control</code></pre></div>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/127764046-5eb963cd-61d9-48b6-9e27-4947adbd10c2.JPG\" alt=\"1  ë„ì»¤ ë¦¬ì†ŒìŠ¤ ì•„ì›ƒì˜¤ë¸Œë©”ëª¨ë¦¬\"></p>\n<h3 id=\"cpu-ë¦¬ì†ŒìŠ¤-ì œí•œ-1\" style=\"position:relative;\"><a href=\"#cpu-%EB%A6%AC%EC%86%8C%EC%8A%A4-%EC%A0%9C%ED%95%9C-1\" aria-label=\"cpu ë¦¬ì†ŒìŠ¤ ì œí•œ 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CPU ë¦¬ì†ŒìŠ¤ ì œí•œ</h3>\n<ul>\n<li>CPU-indexë¥¼ ì§€ì •í•´ì„œ ì»¨í…Œì´ë„ˆ ë™ì‘ì‹œí‚¤ê¸°(ì˜ˆë¥¼ ë“¤ì–´ 4ì½”ì–´ ì¤‘ në²ˆì§¸ ì½”ì–´ ì‚¬ìš©)</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ docker run --cpuset-cpus <span class=\"token number\">1</span> --name c1 stress:latest stress --cpu <span class=\"token number\">1</span>\n<span class=\"token comment\"># 0-1 ë²ˆ ì¤‘ ìƒí™©ì— ë”°ë¼ì„œ ë‘ê°œ ì¤‘ í•˜ë‚˜ë¥¼ ì‚¬ìš©</span>\n$ docker run --cpuset-cpus <span class=\"token number\">0</span>-1 --name c1 stress:latest stress --cpu <span class=\"token number\">1</span></code></pre></div>\n<blockquote>\n<p>docker: Error response from daemon: Requested CPUs are not available - requested 1, available: 0.</p>\n<p>ìœ„ì™€ ê°™ì€ ì˜¤ë¥˜ê°€ ëœ¨ëŠ” ê²ƒì€ cpuê°€ 1ê°œ ë°–ì— ì—†ìœ¼ë¯€ë¡œ ëœ¨ê²Œ ë©ë‹ˆë‹¤.</p>\n</blockquote>\n<ul>\n<li>\n<p><code class=\"language-text\">htop</code> ëª…ë ¹ì–´ë¡œ CPU ì ìœ ìœ¨ í™•ì¸</p>\n<ul>\n<li>í˜„ì¬ CPUê°€ í•˜ë‚˜ì´ë¯€ë¡œ CPU indexê°€ í•˜ë‚˜ë°–ì— ë³´ì´ì§€ ì•ŠëŠ” ìƒíƒœ</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">htop</span></code></pre></div>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/127764051-fc4c4b76-c350-4816-991a-cc9c5bc4fedc.JPG\" alt=\"2  cpu ìì›ë¥  í™•ì¸\"></p>\n<ul>\n<li><code class=\"language-text\">--cpu-shares</code> ëª…ë ¹ì–´ë¥¼ ì´ìš©í•´ CPU ìƒëŒ€ì  ê°€ì¤‘ì¹˜ë¥¼ í• ë‹¹</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ docker run --cpu-shares <span class=\"token number\">2048</span> --name cload1 -d stress:latest <span class=\"token comment\"># ê°€ì¥ ì ìœ ìœ¨ ë†’ìŒ</span>\n$ docker run --name cload2 -d stress:latest <span class=\"token comment\"># ì ìœ ìœ¨ ë³´í†µ(1024 ê¸°ë³¸ ê°’)</span>\n$ docker run -c <span class=\"token number\">512</span> --name cload3 -d stress:latest <span class=\"token comment\"># ì ìœ ìœ¨ ê°€ì¥ ë‚®ìŒ</span></code></pre></div>\n<ul>\n<li>\n<p>ëª¨ë‹ˆí„°ë§ íˆ´ì„ ì´ìš©í•´ í™•ì¸í•´ ë´…ì‹œë‹¤.</p>\n<ul>\n<li>CPU 1ê°œë¥¼ ê¸°ì¤€ìœ¼ë¡œ <em>cload1 CPUëŠ” 55%, cload2 CPUëŠ” 27%, cload3 CPUëŠ” 13%</em> ì ìœ ìœ¨ì„ ê°ê° í• ë‹¹ë˜ì–´ ìˆìŒ</li>\n<li>ìƒëŒ€ì ìœ¼ë¡œ ë¹„ìœ¨ì„ ì¡°ì ˆí•˜ê³  ìˆìŠµë‹ˆë‹¤.</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ docker stats <span class=\"token operator\">&lt;</span>ì»¨í…Œì´ë„ˆ ì´ë¦„ ìƒëµ ê°€ëŠ¥<span class=\"token operator\">></span></code></pre></div>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/127764052-a32a7dc9-f9b0-4257-ab31-73f249cf5cd1.JPG\" alt=\"3  cpu-shares ìì›ë¥  í™•ì¸\"></p>\n<h3 id=\"block-io-ì œí•œ-1\" style=\"position:relative;\"><a href=\"#block-io-%EC%A0%9C%ED%95%9C-1\" aria-label=\"block io ì œí•œ 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Block I/O ì œí•œ</h3>\n<div class=\"quote-block\">\n<div class=\"quote-block__emoji\">ğŸ’¡</div>\n<div class=\"quote-block__content\" markdown=1>\n<p>ëª…ë ¹ì–´ë¥¼ í†µí•´ ë¦¬ëˆ…ìŠ¤ ìŠ¤í† ë¦¬ì§€ ë””ë°”ì´ìŠ¤ ì •ë³´ë¥¼ ì¶œë ¥í•˜ëŠ” ë°©ë²•</p>\n<p><code class=\"language-text\">lsblk</code> ëª…ë ¹ì–´ë¥¼ í†µí•´ ë¦¬ëˆ…ìŠ¤ ë””ë°”ì´ìŠ¤ ì •ë³´ë¥¼ ì¶œë ¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n</div>\n</div>\n<ul>\n<li><code class=\"language-text\">lsblk</code> ëª…ë ¹ì–´ë¥¼ í†µí•´ ë¦¬ëˆ…ìŠ¤ ìŠ¤í† ë¦¬ì§€ ë””ë°”ì´ìŠ¤ ì •ë³´ í™•ì¸</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ lsblk</code></pre></div>\n<ul>\n<li>ì»¨í…Œì´ë„ˆë¥¼ í•˜ë‚˜ ë§Œë“  ë’¤, ëª…ë ¹ì–´ë¥¼ í†µí•´ ì»¨í…Œì´ë„ˆ IOì˜ ì†ë„ë¥¼ ì¡°ì ˆ</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ docker run -it --rm --device-write-iops /dev/xvda:10 ubuntu:latest /bin/bash\n<span class=\"token comment\"># ì»¨í…Œì´ë„ˆ ì§„ì… í›„</span>\n$ <span class=\"token function\">dd</span> <span class=\"token assign-left variable\">if</span><span class=\"token operator\">=</span>/dev/zero <span class=\"token assign-left variable\">of</span><span class=\"token operator\">=</span>file1 <span class=\"token assign-left variable\">bs</span><span class=\"token operator\">=</span>1M <span class=\"token assign-left variable\">count</span><span class=\"token operator\">=</span><span class=\"token number\">10</span> <span class=\"token assign-left variable\">oflag</span><span class=\"token operator\">=</span>direct\n<span class=\"token comment\"># ì»¨í…Œì´ë„ˆ ë‚˜ì˜¤ê¸°</span>\n$ <span class=\"token builtin class-name\">exit</span></code></pre></div>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/127764054-c5e389ed-f1cb-4749-a172-09b8f2f59f5d.JPG\" alt=\"4  block i,o ì†ë„ í™•ì¸\"></p>\n<ul>\n<li>\n<p>ì¡°ê¸ˆ ë” ë¹ ë¥¸ IO ì»¨í…Œì´ë„ˆë¥¼ ë§Œë“  ë’¤, ì†ë„ ë¹„êµ</p>\n<ul>\n<li><u>ìœ„ì˜ ì»¨í…Œì´ë„ˆëŠ” ì´ˆë‹¹ 10.4 MBë¥¼ ë§Œë“¤ì—ˆì§€ë§Œ, í•´ë‹¹ ì»¨í…Œì´ë„ˆëŠ” ì´ˆë‹¹ 254MB</u>ë¥¼ ë§Œë“¤ë©´ì„œ IO ì†ë„ê°€ ì¦ê°€í•œ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ docker run -it --rm --device-write-iops /dev/xvda:100 ubuntu:latest /bin/bash\n<span class=\"token comment\"># ì»¨í…Œì´ë„ˆ ì§„ì… í›„</span>\n$ <span class=\"token function\">dd</span> <span class=\"token assign-left variable\">if</span><span class=\"token operator\">=</span>/dev/zero <span class=\"token assign-left variable\">of</span><span class=\"token operator\">=</span>file1 <span class=\"token assign-left variable\">bs</span><span class=\"token operator\">=</span>1M <span class=\"token assign-left variable\">count</span><span class=\"token operator\">=</span><span class=\"token number\">10</span> <span class=\"token assign-left variable\">oflag</span><span class=\"token operator\">=</span>direct</code></pre></div>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/127764056-c94ac39d-5b61-4c2a-81d7-ee54da856809.JPG\" alt=\"5  block i,o ì†ë„ í™•ì¸\"></p>\n<h3 id=\"cadvisor-ì‹¤í–‰\" style=\"position:relative;\"><a href=\"#cadvisor-%EC%8B%A4%ED%96%89\" aria-label=\"cadvisor ì‹¤í–‰ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>cAdvisor ì‹¤í–‰</h3>\n<ul>\n<li>\n<p>ì»¨í…Œì´ë„ˆ ì‹¤í–‰</p>\n<ul>\n<li>ì°¸ê³ : ìŠ¤ì™‘ ë©”ëª¨ë¦¬ ë¯¸ì§€ì • ìƒíƒœì—ì„œ 500MB í• ë‹¹ë˜ì–´, ìŠ¤ì™‘ ë©”ëª¨ë¦¬ëŠ” 2ë°°ë¥¼ ê°€ì§€ê²Œ ë¨</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ docker run -it --rm --device-write-iops /dev/xvda:100 -m 500m --name c1 -d ubuntu:latest /bin/bash</code></pre></div>\n<ul>\n<li>\n<p>cAdvisor ì„¤ì¹˜ í›„, ì›¹ì—ì„œ GUI í™”ë©´ í™•ì¸</p>\n<ul>\n<li>ì°¸ê³ : cAdvisorëŠ” êµ¬ê¸€ì—ì„œ ë§Œë“  ì»¨í…Œì´ë„ˆ ë¶„ì„ íˆ´ì…ë‹ˆë‹¤.</li>\n<li>ì¿ ë²„ë„¤í‹°ìŠ¤ì˜ kubeletì—ì„œëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì„¤ì¹˜ë˜ì–´ ìˆìŠµë‹ˆë‹¤.</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token assign-left variable\">VERSION</span><span class=\"token operator\">=</span>v0.36.0 <span class=\"token comment\"># use the latest release version from https://github.com/google/cadvisor/releases</span>\n<span class=\"token function\">sudo</span> docker run <span class=\"token punctuation\">\\</span>\n  --volume<span class=\"token operator\">=</span>/:/rootfs:ro <span class=\"token punctuation\">\\</span>\n  --volume<span class=\"token operator\">=</span>/var/run:/var/run:ro <span class=\"token punctuation\">\\</span>\n  --volume<span class=\"token operator\">=</span>/sys:/sys:ro <span class=\"token punctuation\">\\</span>\n  --volume<span class=\"token operator\">=</span>/var/lib/docker/:/var/lib/docker:ro <span class=\"token punctuation\">\\</span>\n  --volume<span class=\"token operator\">=</span>/dev/disk/:/dev/disk:ro <span class=\"token punctuation\">\\</span>\n  --publish<span class=\"token operator\">=</span><span class=\"token number\">8080</span>:8080 <span class=\"token punctuation\">\\</span>\n  --detach<span class=\"token operator\">=</span>true <span class=\"token punctuation\">\\</span>\n  --name<span class=\"token operator\">=</span>cadvisor <span class=\"token punctuation\">\\</span>\n  --privileged <span class=\"token punctuation\">\\</span>\n  --device<span class=\"token operator\">=</span>/dev/kmsg <span class=\"token punctuation\">\\</span>\n  gcr.io/cadvisor/cadvisor:<span class=\"token variable\">$VERSION</span></code></pre></div>\n<ul>\n<li>\n<p>cAdvisor ì ‘ì†í•˜ê¸°</p>\n<ul>\n<li>ì›¹ ë¸Œë¼ìš°ì €ë¥¼ í†µí•´ ì ‘ì†ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token operator\">&lt;</span>í¼ë¸”ë¦­ ì•„ì´í”¼<span class=\"token operator\">></span>:8080<span class=\"token punctuation\">(</span>í¬íŠ¸ë²ˆí˜¸<span class=\"token punctuation\">)</span></code></pre></div>\n<h2 id=\"ì‹¤ìŠµ-ê³¼ì œ\" style=\"position:relative;\"><a href=\"#%EC%8B%A4%EC%8A%B5-%EA%B3%BC%EC%A0%9C\" aria-label=\"ì‹¤ìŠµ ê³¼ì œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì‹¤ìŠµ ê³¼ì œ</h2>\n<ul>\n<li>\n<p>mysql ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•˜ì—¬</p>\n<ol>\n<li>ë©”ëª¨ë¦¬ 200m</li>\n<li>ìŠ¤ì™‘ë©”ëª¨ë¦¬ 300m</li>\n<li>CPU 1ê°œ ì‚¬ìš©í•œ í›„</li>\n<li><code class=\"language-text\">docker stats</code> ëª…ë ¹ì–´ë¡œ ë¦¬ì†ŒìŠ¤ í™•ì¸</li>\n</ol>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ docker run --name db -d -p <span class=\"token number\">3306</span>:3306 -e <span class=\"token assign-left variable\">MYSQL_ROOT_PASSWORD</span><span class=\"token operator\">=</span>pass -m 200m --memory-swap 300m --cpus <span class=\"token number\">1</span> mysql:latest\n<span class=\"token comment\"># ìì› í™•ì¸</span>\n$ docker stats</code></pre></div>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/127764057-62a9cf3b-4982-4c03-803a-2d745fe82451.JPG\" alt=\"6  ë””ë¹„ìì›í™”ê¹…ã„´\"></p>\n<h2 id=\"reference\" style=\"position:relative;\"><a href=\"#reference\" aria-label=\"reference permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Reference</h2>\n<p><a href=\"https://m.blog.naver.com/PostView.naver?isHttpsRedirect=true&#x26;blogId=dudwo567890&#x26;logNo=130156450500\">swap ë©”ëª¨ë¦¬ ì„¤ëª…</a><br>\n<a href=\"https://www.joinc.co.kr/w/man/12/docker/limits\">swap ë©”ëª¨ë¦¬ ì„¤ì •</a><br>\n<a href=\"https://klero.tistory.com/entry/%EB%A6%AC%EB%88%85%EC%8A%A4-stress-%ED%88%B4%EC%9D%84-%ED%86%B5%ED%95%B4-CPU-Memory-%EC%8A%A4%ED%8A%B8%EB%A0%88%EC%8A%A4-%EB%B6%80%ED%95%98-%EC%A3%BC%EB%8A%94-%EB%B0%A9%EB%B2%95\">stress íˆ´ ëª…ë ¹ì–´</a><br>\n<a href=\"https://devnot.tistory.com/96\">docker ìì› í• ë‹¹ ì—ëŸ¬</a><br>\n<a href=\"https://www.lesstif.com/lpt/lsblk-106856724.html\">ë¦¬ëˆ…ìŠ¤ ìŠ¤í† ë¦¬ì§€ ë””ë°”ì´ìŠ¤ ì¶œë ¥ ëª…ë ¹ì–´</a><br>\n<a href=\"https://github.com/google/cadvisor\">cAdvisor-github</a></p>","frontmatter":{"title":"[ë”°ë°°ë„] - ì»¨í…Œì´ë„ˆ ë¦¬ì†ŒìŠ¤ ê´€ë¦¬í•˜ê¸°","date":"July 30, 2021","category":"ğŸ³ docker"}}},"pageContext":{"slug":"/docker/[ë”°ë°°ë„] - ì»¨í…Œì´ë„ˆ ë¦¬ì†ŒìŠ¤ ê´€ë¦¬í•˜ê¸°/","previous":{"fields":{"slug":"/ncp/NCP VPCì„œë²„ ìƒì„± & ë„ì»¤ ì•ˆì— ì•„íŒŒì¹˜ ì›¹ì„œë²„ êµ¬ë™ì‹œí‚¤ê¸°/"},"frontmatter":{"title":"NCP VPCì„œë²„ ìƒì„± & ë„ì»¤ ì•ˆì— ì•„íŒŒì¹˜ ì›¹ì„œë²„ êµ¬ë™ì‹œí‚¤ê¸°","category":"ğŸ§¶ ncp","draft":false}},"next":null}},"staticQueryHashes":["3128451518","521680639"]}