{"componentChunkName":"component---src-templates-blog-post-js","path":"/Kubernetes/4.Kubernetes_ConfigMap,Secret/","result":{"data":{"site":{"siteMetadata":{"title":"Woo's Dev Log","author":"nickhealthy","siteUrl":"https://nickhealthy.github.io","comment":{"disqusShortName":"","utterances":"nickhealthy/nickhealthy.github.io"},"sponsor":{"buyMeACoffeeId":""}}},"markdownRemark":{"id":"a9c9b299-892d-550a-9da9-b90d7c9943f2","excerpt":"ConfigMap ConfigMap은 설정, 환경 변수들을 담는 객체이다. 을 생성할 때 이를 넣어줄 수 있다. 예를 들어 개발/운영에 따라 환경 변수 값이 다른 경우, ConfigMap을 활용할 수 있다. ConfigMap을 활용하는 3가지 방식 문자(Literal)  형태로  파일 내에 정의하고  안에서  오브젝트를 참조한다. Env (File) 파일을 통째로 에 담는다. 이때 의 이름은 파일의 이름, 는 파일 안의 내용이다. Volume Mount(File…","html":"<h1 id=\"configmap\" style=\"position:relative;\"><a href=\"#configmap\" aria-label=\"configmap permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ConfigMap</h1>\n<p>ConfigMap은 <strong>설정, 환경 변수들을 담는 객체이다.</strong></p>\n<p><code class=\"language-text\">Pod</code>을 생성할 때 이를 넣어줄 수 있다.</p>\n<p>예를 들어 개발/운영에 따라 환경 변수 값이 다른 경우, ConfigMap을 활용할 수 있다.</p>\n<h3 id=\"configmap을-활용하는-3가지-방식\" style=\"position:relative;\"><a href=\"#configmap%EC%9D%84-%ED%99%9C%EC%9A%A9%ED%95%98%EB%8A%94-3%EA%B0%80%EC%A7%80-%EB%B0%A9%EC%8B%9D\" aria-label=\"configmap을 활용하는 3가지 방식 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ConfigMap을 활용하는 3가지 방식</h3>\n<ul>\n<li>\n<p>문자(Literal)</p>\n<ul>\n<li><code class=\"language-text\">Key : Value</code> 형태로 <code class=\"language-text\">.yaml - data</code> 파일 내에 정의하고 <code class=\"language-text\">Object</code> 안에서 <code class=\"language-text\">ConfigMap</code> 오브젝트를 참조한다.</li>\n</ul>\n</li>\n<li>\n<p>Env (File)</p>\n<ul>\n<li>파일을 통째로 <code class=\"language-text\">ConfigMap</code>에 담는다. 이때 <strong><code class=\"language-text\">Key</code>의 이름은 파일의 이름, <code class=\"language-text\">Value</code>는 파일 안의 내용이다.</strong></li>\n<li>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ kubectl create configmap 컨피그맵이름 --from-file<span class=\"token operator\">=</span>파일의 경로<span class=\"token operator\">&amp;</span>파일이름</code></pre></div>\n</li>\n</ul>\n</li>\n<li>\n<p>Volume Mount(File)</p>\n<ul>\n<li>설정값(<code class=\"language-text\">ConfigMap</code>)으로 사용할 파일 자체를 마운팅 해(path 지정이 필요함), 사용하고자 하는 <code class=\"language-text\">Object</code>들이 해당 경로/파일을 참조한다.</li>\n</ul>\n</li>\n</ul>\n<blockquote>\n<p><code class=\"language-text\">Env (File)</code>, <code class=\"language-text\">Volume Mount(File)</code> 두개의 큰 차이점은 Volume Mount(File)는 마운트로 원본(ConfigMap)과 연결되기 때문에 변경 사항이 발생했을 때, 해당 ConfigMap을 참조하고 있는 <code class=\"language-text\">Object</code>들의 설정 값들도 변경이 되지만, Env (File)는 참조하고 있는 <code class=\"language-text\">Object</code>를 재실행 하기 전까지 변경이 되지 않는다.</p>\n</blockquote>\n<h1 id=\"secret\" style=\"position:relative;\"><a href=\"#secret\" aria-label=\"secret permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Secret</h1>\n<p><code class=\"language-text\">ConfigMap</code>은 일반적인 환경설정 변수를 담는다면, <code class=\"language-text\">Secret</code>은 <strong>보안이 중요한 설정 변수들을 담는 오브젝트이다.</strong></p>\n<ul>\n<li>하나의 Secret 의 메모리 사이즈는 최대 1M 다.</li>\n<li>\n<p>메모리에 저장되기 때문에 꼭 필요한 정보만 담도록 해야한다.</p>\n<ul>\n<li>필요 없는 부분까지 넣는다면 자원에 영향이 생길 수 있다.</li>\n</ul>\n</li>\n<li>\n<p>키/값 형태이지만 값은 base64 로 인코딩해야한다. 이후 쿠버네티스가 컨테이너 내에서 자동으로 <code class=\"language-text\">decoding</code>을 해준다.</p>\n<ul>\n<li>base64 인코딩을 쓰는 이유는, 문자열 뿐만 아니라 일반적인 바이너리 파일을 담을 수 있도록 하기 위함</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"secret을-활용하는-3가지-방식\" style=\"position:relative;\"><a href=\"#secret%EC%9D%84-%ED%99%9C%EC%9A%A9%ED%95%98%EB%8A%94-3%EA%B0%80%EC%A7%80-%EB%B0%A9%EC%8B%9D\" aria-label=\"secret을 활용하는 3가지 방식 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Secret을 활용하는 3가지 방식</h3>\n<ul>\n<li>문자(Literal)</li>\n<li>\n<p>Env (File)</p>\n<ul>\n<li>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ kubectl create secret generic 시크릿이름 --from-file<span class=\"token operator\">=</span>파일의 경로<span class=\"token operator\">&amp;</span>파일이름</code></pre></div>\n</li>\n</ul>\n</li>\n<li>Volume Mount(File)</li>\n</ul>\n<blockquote>\n<p>동작 방식의 형태는 위의 ConfigMap과 동일하다.</p>\n</blockquote>\n<h2 id=\"configmap-secret-images\" style=\"position:relative;\"><a href=\"#configmap-secret-images\" aria-label=\"configmap secret images permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ConfigMap, Secret Images</h2>\n<img width=\"33%\" alt=\"literal\" src=\"https://user-images.githubusercontent.com/66216102/105352707-981b2200-5c31-11eb-9546-407cbc1a8a46.PNG\" style=\"float:left\">\n<img width=\"33%\" alt=\"file\" src=\"https://user-images.githubusercontent.com/66216102/105352862-d31d5580-5c31-11eb-9b97-fe8881c9a6a4.PNG\">\n<img width=\"33.5%\" alt=\"volume file\" src=\"https://user-images.githubusercontent.com/66216102/105352891-de708100-5c31-11eb-9573-53b8aeaa5a88.PNG\">\n<br />\n<br />\n<a href='#'><small class='up-button'>위로 올라가기💨</small></a>\n<br />","frontmatter":{"title":"#4 Kubernetes ConfigMap, Secret","date":"January 13, 2021","category":"🧭 Kubernetes"}}},"pageContext":{"slug":"/Kubernetes/4.Kubernetes_ConfigMap,Secret/","previous":{"fields":{"slug":"/solving-algo/[programmers]_다리를_지나는_트럭/"},"frontmatter":{"title":"[programmers]다리를 지나는 트럭","category":"💯 solving-algo","draft":false}},"next":{"fields":{"slug":"/Kubernetes/5.Kubernetes_Namespace,ResourceQuota,LimitRange/"},"frontmatter":{"title":"#5 Kubernetes Namespace, ResourceQuota, LimitRange","category":"🧭 Kubernetes","draft":false}}}},"staticQueryHashes":["3128451518","521680639"]}