{"componentChunkName":"component---src-templates-blog-post-js","path":"/devops/KOSTA_Ansibleì„ ì´ìš©í•œ AWS í´ë¼ìš°ë“œ DevOps ìë™í™” êµ¬í˜„-4/","result":{"data":{"site":{"siteMetadata":{"title":"Woo's Dev Log","author":"nickhealthy","siteUrl":"https://nickhealthy.github.io","comment":{"disqusShortName":"","utterances":"nickhealthy/nickhealthy.github.io"},"sponsor":{"buyMeACoffeeId":""}}},"markdownRemark":{"id":"833cff7a-dfc1-5fd1-acff-1340f54baf7c","excerpt":"í•™ìŠµëª©í‘œ ì•ì¥ì—ì„œ AWSì˜ ì½˜ì†”ë¡œ ì§„í–‰í•œ LABë¥¼ AWS CLIë¥¼ ì´ìš©í•˜ì—¬ ìì›(ì„œë¹„ìŠ¤) ë‹¤ë¤„ë³´ê¸° AWSì™€ Ansibleë¥¼ ì´ìš©í•´ ìì› êµ¬ì¶• ë° ì„œë²„ì˜ í™˜ê²½ì„ ìŠ¤í¬ë¦½íŠ¸í™” ì‹œí‚¤ê¸° AWS CLI ì„¤ì¹˜ì™€ ì„¤ì • AWS ëª…ë ¹ì¤„ ì¸í„°í˜ì´ìŠ¤(CLI)ëŠ” AWS ì„œë¹„ìŠ¤ë¥¼ ê´€ë¦¬í•˜ëŠ” í†µí•© ë„êµ¬ì…ë‹ˆë‹¤. í¸í•œ ë°©ì‹ìœ¼ë¡œ OpenStackì´ ìˆëŠ”ë° ì´ëŠ” ì›¹ UIì—ì„œ ì„œë¹„ìŠ¤ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” ê²ƒì„ ì œê³µí•´ì¤ë‹ˆë‹¤. í•˜ì§€ë§Œ í´ë¼ìš°ë“œ ìì›ì„ ë‹¤ë£° ìˆ˜ ìˆëŠ” ë²”ìœ„ê°€ ëŒ€ëµ 80% ì •ë„ì…ë‹ˆë‹¤. ì—¬ëŸ¬ AWSâ€¦","html":"<h3 id=\"í•™ìŠµëª©í‘œ\" style=\"position:relative;\"><a href=\"#%ED%95%99%EC%8A%B5%EB%AA%A9%ED%91%9C\" aria-label=\"í•™ìŠµëª©í‘œ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>í•™ìŠµëª©í‘œ</h3>\n<ul>\n<li>ì•ì¥ì—ì„œ AWSì˜ ì½˜ì†”ë¡œ ì§„í–‰í•œ LABë¥¼ AWS CLIë¥¼ ì´ìš©í•˜ì—¬ ìì›(ì„œë¹„ìŠ¤) ë‹¤ë¤„ë³´ê¸°</li>\n<li>AWSì™€ Ansibleë¥¼ ì´ìš©í•´ ìì› êµ¬ì¶• ë° ì„œë²„ì˜ í™˜ê²½ì„ ìŠ¤í¬ë¦½íŠ¸í™” ì‹œí‚¤ê¸°</li>\n</ul>\n<h2 id=\"aws-cli-ì„¤ì¹˜ì™€-ì„¤ì •\" style=\"position:relative;\"><a href=\"#aws-cli-%EC%84%A4%EC%B9%98%EC%99%80-%EC%84%A4%EC%A0%95\" aria-label=\"aws cli ì„¤ì¹˜ì™€ ì„¤ì • permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>AWS CLI ì„¤ì¹˜ì™€ ì„¤ì •</h2>\n<ul>\n<li>\n<p>AWS ëª…ë ¹ì¤„ ì¸í„°í˜ì´ìŠ¤(CLI)ëŠ” AWS ì„œë¹„ìŠ¤ë¥¼ ê´€ë¦¬í•˜ëŠ” í†µí•© ë„êµ¬ì…ë‹ˆë‹¤.</p>\n<ul>\n<li>í¸í•œ ë°©ì‹ìœ¼ë¡œ OpenStackì´ ìˆëŠ”ë° ì´ëŠ” ì›¹ UIì—ì„œ ì„œë¹„ìŠ¤ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” ê²ƒì„ ì œê³µí•´ì¤ë‹ˆë‹¤. í•˜ì§€ë§Œ í´ë¼ìš°ë“œ ìì›ì„ ë‹¤ë£° ìˆ˜ ìˆëŠ” ë²”ìœ„ê°€ ëŒ€ëµ 80% ì •ë„ì…ë‹ˆë‹¤.</li>\n</ul>\n</li>\n<li>\n<p><u>ì—¬ëŸ¬ AWS ì„œë¹„ìŠ¤ë¥¼ ëª…ë ¹ì¤„ì—ì„œ ì œì–´í•˜ê³  ìŠ¤í¬ë¦½íŠ¸ë¥¼ í†µí•´ ìë™í™”</u>í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<ul>\n<li>AWS CLIë¥¼ ì‚¬ìš©í•˜ì—¬ ì„œë¹„ìŠ¤ì˜ ê¸°ëŠ¥ì„ ì‚´í´ë³´ê³  ë¦¬ì†ŒìŠ¤ë¥¼ ê´€ë¦¬í•  ì…€ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ê°œë°œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"cli-ì„¤ì¹˜-ë°-cli-ë¡œê·¸ì¸\" style=\"position:relative;\"><a href=\"#cli-%EC%84%A4%EC%B9%98-%EB%B0%8F-cli-%EB%A1%9C%EA%B7%B8%EC%9D%B8\" aria-label=\"cli ì„¤ì¹˜ ë° cli ë¡œê·¸ì¸ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CLI ì„¤ì¹˜ ë° CLI ë¡œê·¸ì¸</h3>\n<ul>\n<li>AWS-SDK boto3 ë° AWS-CLI ì„¤ì¹˜</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">sudo</span> yum <span class=\"token function\">install</span> python-pip\n$ <span class=\"token function\">sudo</span> pip <span class=\"token function\">install</span> boto\n$ <span class=\"token function\">curl</span> <span class=\"token string\">\"https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip\"</span> -o <span class=\"token string\">\"awscliv2.zip\"</span>\n$ <span class=\"token function\">unzip</span> awscliv2.zip\n$ <span class=\"token function\">sudo</span> ./aws/install</code></pre></div>\n<ul>\n<li>\n<p>CLIë¥¼ ë‹¤ë£¨ê¸° ìœ„í•œ ì„œë²„ ì„¤ì •</p>\n<ul>\n<li><code class=\"language-text\">complete -C &#39;/usr/local/bin/aws_completer&#39; aws</code> : bash ì‰˜ ìë™ì™„ì„± í•˜ê¸° ìœ„í•œ ì„¤ì •</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">sudo</span> <span class=\"token function\">vi</span> ~/.bash_profile\n<span class=\"token comment\"># .bash_profileì— í•´ë‹¹ ëª…ë ¹ì–´ ë„£ê¸° >> complete -C '/usr/local/bin/aws_completer' aws</span>\n<span class=\"token comment\"># PATH=$PATH:$HOME/bin</span>\n<span class=\"token comment\"># export PATH</span>\n$ <span class=\"token builtin class-name\">source</span> ~/.bash_profile</code></pre></div>\n<ul>\n<li>CLIë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•œ AWS ê³„ì • ë¡œê·¸ì¸</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># awsì— ë¡œê·¸ì¸í•˜ê¸° ìœ„í•œ ëª…ë ¹ì–´</span>\n$ aws configure\n$ ì—‘ì„¸ìŠ¤ í‚¤, ì‹œí¬ë¦¿ í‚¤ ì…ë ¥\n$ Default region name <span class=\"token punctuation\">[</span>None<span class=\"token punctuation\">]</span>: ë¦¬ì „ ë„¤ì„ì…ë ¥\n$ Default output <span class=\"token function\">format</span> <span class=\"token punctuation\">[</span>None<span class=\"token punctuation\">]</span>: ë°ì´í„° í¬ë§·ì„ ê²°ì •</code></pre></div>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/133728195-10115cef-043c-4af2-a353-3dba7d2f3060.JPG\" alt=\"1  aws ë¡œê·¸ì¸\"></p>\n<ul>\n<li>ê²€ì¦ - CLIë¥¼ ì´ìš©í•˜ì—¬ S3 ë²„í‚· ì¡°íšŒ</li>\n</ul>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/133728198-293f2580-270f-4371-b6a3-9b04dec1ffd1.JPG\" alt=\"2  s3 ë²„í‚·ì¡°íšŒ\"></p>\n<h2 id=\"lab-1---cli-ë¥¼-í™œìš©í•˜ì—¬-vpcì™€-ì„œë¸Œë„·-ìƒì„±í•˜ê¸°\" style=\"position:relative;\"><a href=\"#lab-1---cli-%EB%A5%BC-%ED%99%9C%EC%9A%A9%ED%95%98%EC%97%AC-vpc%EC%99%80-%EC%84%9C%EB%B8%8C%EB%84%B7-%EC%83%9D%EC%84%B1%ED%95%98%EA%B8%B0\" aria-label=\"lab 1   cli ë¥¼ í™œìš©í•˜ì—¬ vpcì™€ ì„œë¸Œë„· ìƒì„±í•˜ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>LAB 1 - CLI ë¥¼ í™œìš©í•˜ì—¬ VPCì™€ ì„œë¸Œë„· ìƒì„±í•˜ê¸°</h2>\n<h4 id=\"aws-clië¥¼-ì´ìš©í•˜ì—¬-vpcì™€-ì„œë¸Œë„·-ìì›ì„-ìƒì„±í•´-ë´…ì‹œë‹¤\" style=\"position:relative;\"><a href=\"#aws-cli%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%98%EC%97%AC-vpc%EC%99%80-%EC%84%9C%EB%B8%8C%EB%84%B7-%EC%9E%90%EC%9B%90%EC%9D%84-%EC%83%9D%EC%84%B1%ED%95%B4-%EB%B4%85%EC%8B%9C%EB%8B%A4\" aria-label=\"aws clië¥¼ ì´ìš©í•˜ì—¬ vpcì™€ ì„œë¸Œë„· ìì›ì„ ìƒì„±í•´ ë´…ì‹œë‹¤ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>AWS-CLIë¥¼ ì´ìš©í•˜ì—¬ VPCì™€ ì„œë¸Œë„· ìì›ì„ ìƒì„±í•´ ë´…ì‹œë‹¤.</h4>\n<ul>\n<li>\n<p>VPCë¥¼ CIDR ê°’ì„ ì •í•´ ë§Œë“¤ê¸°</p>\n<ul>\n<li><code class=\"language-text\">--output</code> ì˜µì…˜ : ê²°ê³¼ë¬¼ì„ í…Œì´ë¸” í˜•ì‹ìœ¼ë¡œ ë³´ê¸°</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ aws ec2 create-vpc --cidr-block <span class=\"token number\">172.16</span>.0.0/16 --output table\n$ aws ec2 describe-vpcs --output table</code></pre></div>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/133732739-67aa606a-0241-479a-878e-2fea073d4478.JPG\" alt=\"1  vpc ìƒì„±\"></p>\n<ul>\n<li>\n<p>ì„œë¸Œë„· ë§Œë“¤ê¸°</p>\n<ul>\n<li>AZ - a, c ë‘ ê°œì˜ ì„œë¸Œë„· ìƒì„±</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># ë³€ìˆ˜ ì„ ì–¸</span>\n$ <span class=\"token assign-left variable\">MY_VPC</span><span class=\"token operator\">=</span>vpc-035eb45dd473aa061\n<span class=\"token comment\"># ì„œë¸Œë„· ìƒì„±</span>\n$ aws ec2 create-subnet --vpc-id <span class=\"token variable\">$MY_VPC</span> --cidr-block <span class=\"token number\">172.16</span>.0.0/20 --availability-zone ap-northeast-2a --output table\n$ aws ec2 create-subnet --vpc-id <span class=\"token variable\">$MY_VPC</span> --cidr-block <span class=\"token number\">172.16</span>.32.0/20 --availability-zone ap-northeast-2c --output table</code></pre></div>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/133732748-a91cf6ef-9d75-4f90-9211-69c7bedba268.JPG\" alt=\"2  ì„œë¸Œë„· ì„¤ì •\"></p>\n<ul>\n<li>\n<p>ìƒì„¸ ì •ë³´ ë³´ê¸° (í•„í„°ë§ í¬í•¨)</p>\n<ul>\n<li>MY_VPCì˜ ì„œë¸Œë„· ë‘ê°œê°€ ìƒì„±ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŒ</li>\n</ul>\n</li>\n</ul>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/133732749-c2927641-3969-4c6d-b497-4192c33e1191.JPG\" alt=\"3  ìƒì„¸ì •ë³´ë³´ê¸°\"></p>\n<h2 id=\"lab-2---ì„œë¸Œë„·ì„-í¼ë¸”ë¦­-ì„œë¸Œë„·ìœ¼ë¡œ-ë§Œë“¤ê¸°\" style=\"position:relative;\"><a href=\"#lab-2---%EC%84%9C%EB%B8%8C%EB%84%B7%EC%9D%84-%ED%8D%BC%EB%B8%94%EB%A6%AD-%EC%84%9C%EB%B8%8C%EB%84%B7%EC%9C%BC%EB%A1%9C-%EB%A7%8C%EB%93%A4%EA%B8%B0\" aria-label=\"lab 2   ì„œë¸Œë„·ì„ í¼ë¸”ë¦­ ì„œë¸Œë„·ìœ¼ë¡œ ë§Œë“¤ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>LAB 2 - ì„œë¸Œë„·ì„ í¼ë¸”ë¦­ ì„œë¸Œë„·ìœ¼ë¡œ ë§Œë“¤ê¸°</h2>\n<h4 id=\"ì•ì„œ-ë§Œë“¤ì—ˆë˜-í”„ë¼ì´ë¹—-ì„œë¸Œë„·ì„-í¼ë¸”ë¦­-ì„œë¸Œë„·ìœ¼ë¡œ-ë§Œë“¤ê¸°\" style=\"position:relative;\"><a href=\"#%EC%95%9E%EC%84%9C-%EB%A7%8C%EB%93%A4%EC%97%88%EB%8D%98-%ED%94%84%EB%9D%BC%EC%9D%B4%EB%B9%97-%EC%84%9C%EB%B8%8C%EB%84%B7%EC%9D%84-%ED%8D%BC%EB%B8%94%EB%A6%AD-%EC%84%9C%EB%B8%8C%EB%84%B7%EC%9C%BC%EB%A1%9C-%EB%A7%8C%EB%93%A4%EA%B8%B0\" aria-label=\"ì•ì„œ ë§Œë“¤ì—ˆë˜ í”„ë¼ì´ë¹— ì„œë¸Œë„·ì„ í¼ë¸”ë¦­ ì„œë¸Œë„·ìœ¼ë¡œ ë§Œë“¤ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ì•ì„œ ë§Œë“¤ì—ˆë˜ í”„ë¼ì´ë¹— ì„œë¸Œë„·ì„ í¼ë¸”ë¦­ ì„œë¸Œë„·ìœ¼ë¡œ ë§Œë“¤ê¸°</h4>\n<ul>\n<li>ì¸í„°ë„· ê²Œì´íŠ¸ì›¨ì´ ë§Œë“¤ê¸°</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ aws ec2 create-internet-gateway --output table\n<span class=\"token comment\"># ìƒì„¸ ì •ë³´ í™•ì¸</span>\n$ aws ec2 describe-internet-gateways --output table</code></pre></div>\n<ul>\n<li>ì¸í„°ë„· ê²Œì´íŠ¸ì›¨ì´ë¥¼ VPCì— ì—°ê²°í•˜ê¸°</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ aws ec2 attach-internet-gateway --vpc-id <span class=\"token variable\">$MY_VPC</span> --internet-gateway-id <span class=\"token variable\">$MY_IGW</span>\n$ aws ec2 describe-internet-gateways --output table</code></pre></div>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/133732751-a53599dc-fd8c-4fb3-b13b-7a00893c2bcf.JPG\" alt=\"4  ì¸í„°ë„·ê²Œì´íŠ¸ì›¨ì´ ìƒì„± ë° ì–´íƒœì¹˜\"></p>\n<ul>\n<li>ë¼ìš°íŒ… í…Œì´ë¸” ë§Œë“¤ê¸°</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ aws ec2 create-route-table --vpc-id <span class=\"token variable\">$MY_VPC</span> --output table\n$ aws ec2 describe-route-tables --output table</code></pre></div>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/133732753-d5cf2278-ac53-4d9f-9e0a-5562ec0e401a.JPG\" alt=\"5  ë¼ìš°íŒ… í…Œì´ë¸” ìƒì„±\"></p>\n<ul>\n<li>\n<p>ë¼ìš°íŒ… í…Œì´ë¸”ì— ì¸í„°ë„· ê²Œì´íŠ¸ì›¨ì´ë¥¼ ì¶”ê°€</p>\n<ul>\n<li>ë¦¬í„´ ê²°ê³¼ true ì¶œë ¥</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># ë³€ìˆ˜ ì„¤ì •</span>\n$ <span class=\"token assign-left variable\">MY_RTB</span><span class=\"token operator\">=</span>rtb-0ff265e3570259a34\n$ aws ec2 create-route --route-table-id <span class=\"token variable\">$MY_RTB</span> --destination-cidr-block <span class=\"token number\">0.0</span>.0.0/0 <span class=\"token punctuation\">\\</span>\n--gateway-id <span class=\"token variable\">$MY_IGW</span> --output table</code></pre></div>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/133732754-9cd0aa24-db3f-4b86-8f65-825406ab4502.JPG\" alt=\"6  ì¸í„°ë„· ê²Œì´íŠ¸ì›¨ì´ ë¼ìš°íŒ…ì— ì—°ê²°\"></p>\n<ul>\n<li>ë¼ìš°íŒ… í…Œì´ë¸” ì•ˆì— ì¸í„°ë„· ê²Œì´íŠ¸ì›¨ì´ê°€ ì¶”ê°€ ëœ ê²ƒì„ í™•ì¸</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># ìƒì„¸ì •ë³´ í™•ì¸</span>\n$ aws ec2 describe-route-tables --route-table-id <span class=\"token variable\">$MY_RTB</span> --output table\n$ aws ec2 describe-subnets --filters <span class=\"token string\">\"Name=vpc-id,Values=<span class=\"token variable\">$MY_VPC</span>\"</span> <span class=\"token punctuation\">\\</span>\n--query <span class=\"token string\">'Subnets[*].{ID:SubnetId,CIDR:CidrBlock}'</span></code></pre></div>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/133732757-02a28c48-acbd-4032-83f2-73eb9d7c1252.JPG\" alt=\"6-1  ì¸í„°ë„· ê²Œì´íŠ¸ì›¨ì´ ë¼ìš°íŒ…ì— ì—°ê²°\"></p>\n<ul>\n<li>ì„œë¸Œë„·ì„ ë¼ìš°íŒ…ì— í…Œì´ë¸” ì—°ê²°</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token comment\"># ë³€ìˆ˜ ì„¤ì •</span>\n$ <span class=\"token assign-left variable\">MY_SID1</span><span class=\"token operator\">=</span>subnet-0775ed14f85759e14\n$ <span class=\"token assign-left variable\">MY_SID2</span><span class=\"token operator\">=</span>subnet-08c42a258a37d56e1\n\n$ aws ec2 associate-route-table --subnet-id <span class=\"token variable\">$MY_SID1</span> --route-table-id <span class=\"token variable\">$MY_RTB</span>\n$ aws ec2 associate-route-table --subnet-id <span class=\"token variable\">$MY_SID2</span> --route-table-id <span class=\"token variable\">$MY_RTB</span></code></pre></div>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/133732758-4d56ddb7-c99b-4ed6-9f3b-4d04092a23cf.JPG\" alt=\"7  ì„œë¸Œë„·ê³¼ ë¼ìš°íŒ… í…Œì´ë¸” ì—°ê²°\"></p>\n<ul>\n<li>\n<p>VPC-Subnetì— <u>ìë™ í• ë‹¹ IP</u> ìˆ˜ì •ì„ í•´ì£¼ëŠ” ê²ƒ</p>\n<ul>\n<li><u>ì• ìˆ˜ì—… ì‹œê°„ì— ì„¤ëª…í–ˆë˜ â€œê³µì¸ IP í™œì„±í™”â€ ë¶€ë¶„ì„ ëœ»í•¨</u></li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ aws ec2 modify-subnet-attribute --subnet-id <span class=\"token variable\">$MY_SID1</span> --map-public-ip-on-launch\n$ aws ec2 modify-subnet-attribute --subnet-id <span class=\"token variable\">$MY_SID2</span> --map-public-ip-on-launch</code></pre></div>\n<ul>\n<li>\n<p>VPC-DNS í˜¸ìŠ¤íŠ¸ ì´ë¦„ í¸ì§‘</p>\n<ul>\n<li>ê³µì¸ IP ìƒì„± ì‹œ ìë™ìœ¼ë¡œ ìƒì„±í•´ì£¼ëŠ” DNS ì„¤ì •ì„ í•˜ëŠ” ê²ƒì„</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ aws ec2 modify-vpc-attribute --vpc-id <span class=\"token variable\">$MY_VPC</span> --enable-dns-hostnames</code></pre></div>\n<h2 id=\"lab-3---í‚¤í˜ì–´-ë³´ì•ˆê·¸ë£¹-ë§Œë“¤ê¸°\" style=\"position:relative;\"><a href=\"#lab-3---%ED%82%A4%ED%8E%98%EC%96%B4-%EB%B3%B4%EC%95%88%EA%B7%B8%EB%A3%B9-%EB%A7%8C%EB%93%A4%EA%B8%B0\" aria-label=\"lab 3   í‚¤í˜ì–´ ë³´ì•ˆê·¸ë£¹ ë§Œë“¤ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>LAB 3 - í‚¤í˜ì–´, ë³´ì•ˆê·¸ë£¹ ë§Œë“¤ê¸°</h2>\n<ul>\n<li>\n<p>í‚¤í˜ì–´ ìƒì„± í›„, í‚¤ë¥¼ í•´ë‹¹ ì„œë²„ì— ì €ì¥í•˜ê¸°</p>\n<ul>\n<li><code class=\"language-text\">--output</code>ë¥¼ text í˜•ì‹ìœ¼ë¡œ ë§Œë“¤ì–´ì„œ *<em>.pem</em> íŒŒì¼ì„ ìƒì„±</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ aws ec2 create-key-pair --key-name MyKeyPair --query <span class=\"token string\">'KeyMaterial'</span> <span class=\"token punctuation\">\\</span>\n--output text <span class=\"token operator\">></span> MyKeyPair.pem</code></pre></div>\n<ul>\n<li>í‚¤ í˜ì–´ì— ëŒ€í•œ ê¶Œí•œ ì„¤ì •</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">chmod</span> <span class=\"token number\">400</span> MyKeyPair.pem</code></pre></div>\n<ul>\n<li>ë³´ì•ˆê·¸ë£¹ ìƒì„±</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ aws ec2 create-security-group --group-name HTTP_SSH_Access <span class=\"token punctuation\">\\</span>\n--description <span class=\"token string\">\"Security group for HTTP_SSH access\"</span> --vpc-id <span class=\"token variable\">$MY_VPC</span>\n$ aws ec2 describe-security-groups --output table</code></pre></div>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/133739462-d7019b0b-5eba-433a-a155-2b9d0d06a441.JPG\" alt=\"8  ë³´ì•ˆê·¸ë£¹ ìƒì„± ë° ì„¤ì •\"></p>\n<ul>\n<li>EC2 ì„œë²„ì˜ ì•„ì´í”¼ ì¶”ì¶œí•˜ê¸°</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token assign-left variable\">MY_IP</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">curl</span> http://checkip.amazonaws.com/<span class=\"token variable\">)</span></span>\n<span class=\"token comment\"># ì„œë²„ì˜ ì•„ì´í”¼ - 13.125.xxx.133</span>\n$ <span class=\"token function\">curl</span> http://checkip.amazonaws.com/</code></pre></div>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/133739454-9715687b-f922-48b2-97fd-81b7a1c2a74a.JPG\" alt=\"9  ë‚˜ì˜ ì•„ì´í”¼ ì¶”ì¶œ\"></p>\n<ul>\n<li>\n<p>ë³´ì•ˆ ê·¸ë£¹ ì¸ë°”ìš´ë“œ ì„¤ì •</p>\n<ul>\n<li>ì¸ë°”ìš´ë“œëŠ” <code class=\"language-text\">ingress</code>, ì•„ì›ƒë°”ìš´ë“œëŠ” <code class=\"language-text\">egress</code> ëª…ë ¹ì–´</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token assign-left variable\">MY_SG</span><span class=\"token operator\">=</span>sg-05b321deb1c4e237d\n<span class=\"token comment\"># SSH í¬íŠ¸ì™€ HTTP í¬íŠ¸ë¥¼ ì„¤ì •</span>\n$ aws ec2 authorize-security-group-ingress --group-id <span class=\"token variable\">$MY_SG</span> --protocol tcp <span class=\"token punctuation\">\\</span>\n--port <span class=\"token number\">22</span> --cidr <span class=\"token variable\">$MY_IP</span>/32\n$ aws ec2 authorize-security-group-ingress --group-id <span class=\"token variable\">$MY_SG</span> --protocol tcp <span class=\"token punctuation\">\\</span>\n--port <span class=\"token number\">80</span> --cidr <span class=\"token number\">0.0</span>.0.0/0</code></pre></div>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/133739456-f9e6a69b-42a1-452d-9329-c79c4c0d17a0.JPG\" alt=\"10  ë³´ì•ˆê·¸ë£¹ ì¸ë°”ìš´ë“œ ì„¤ì •\"></p>\n<h2 id=\"lab-4---ë³¼ë¥¨-ë°-ì¸ìŠ¤í„´ìŠ¤-ë§Œë“¤ê¸°\" style=\"position:relative;\"><a href=\"#lab-4---%EB%B3%BC%EB%A5%A8-%EB%B0%8F-%EC%9D%B8%EC%8A%A4%ED%84%B4%EC%8A%A4-%EB%A7%8C%EB%93%A4%EA%B8%B0\" aria-label=\"lab 4   ë³¼ë¥¨ ë° ì¸ìŠ¤í„´ìŠ¤ ë§Œë“¤ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>LAB 4 - ë³¼ë¥¨ ë° ì¸ìŠ¤í„´ìŠ¤ ë§Œë“¤ê¸°</h2>\n<ul>\n<li>ì¶”ê°€ ë³¼ë¥¨ì„ ìƒì„±í•  json íŒŒì¼ ìƒì„±</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\">$ vi mapping.json\n\n<span class=\"token punctuation\">[</span>\n   <span class=\"token punctuation\">{</span>\n     <span class=\"token property\">\"DeviceName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/dev/xvda\"</span><span class=\"token punctuation\">,</span>\n     <span class=\"token property\">\"Ebs\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n       <span class=\"token property\">\"VolumeSize\"</span><span class=\"token operator\">:</span> <span class=\"token number\">8</span>\n     <span class=\"token punctuation\">}</span>\n   <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n   <span class=\"token punctuation\">{</span>\n     <span class=\"token property\">\"DeviceName\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/dev/sdh\"</span><span class=\"token punctuation\">,</span>\n     <span class=\"token property\">\"Ebs\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n       <span class=\"token property\">\"VolumeSize\"</span><span class=\"token operator\">:</span> <span class=\"token number\">8</span>\n     <span class=\"token punctuation\">}</span>\n   <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">]</span></code></pre></div>\n<ul>\n<li>AMI ì´ë¯¸ì§€ ê²€ìƒ‰í•˜ê¸°</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ aws ec2 describe-images <span class=\"token punctuation\">\\</span>\n--owners amazon <span class=\"token punctuation\">\\</span>\n--filters <span class=\"token string\">'Name=name,Values=amzn2-ami-hvm-2.0.????????.?-x86_64-gp2'</span> <span class=\"token string\">'Name=state,Values=available'</span> <span class=\"token punctuation\">\\</span>\n--query <span class=\"token string\">'reverse(sort_by(Images, &amp;CreationDate))[:1].ImageId'</span> <span class=\"token punctuation\">\\</span>\n--output text</code></pre></div>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/133739457-32b39321-3a59-40f2-817d-341ff163ec4b.JPG\" alt=\"11  ami ì´ë¯¸ì§€ ì¶”ì¶œ\"></p>\n<ul>\n<li>\n<p>EC2 ìƒì„±í•˜ê¸°</p>\n<ul>\n<li>í•´ë‹¹ <code class=\"language-text\">--image-id</code> ì˜µì…˜ì˜ ê°’ì€ <u><strong>ìì£¼ ë°”ë€Œë‹ˆ ì£¼ì˜</strong></u></li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ aws ec2 run-instances --image-id ami-08c64544f5cfcddd0 <span class=\"token punctuation\">\\</span>\n--count <span class=\"token number\">1</span> --instance-type t2.micro --key-name MyKeyPair <span class=\"token punctuation\">\\</span>\n--security-group-ids <span class=\"token variable\">$MY_SG</span> <span class=\"token punctuation\">\\</span>\n--subnet-id <span class=\"token variable\">$MY_SID1</span> <span class=\"token punctuation\">\\</span>\n--block-device-mappings file://mapping.json</code></pre></div>\n<ul>\n<li>\n<p>EC2 ìƒì„¸ ì •ë³´ ì¡°íšŒ</p>\n<ul>\n<li>ìƒˆë¡­ê²Œ ë§Œë“¤ì–´ì§„ EC2 ì„œë²„ì˜ ìƒì„¸ ì •ë³´ì—ì„œ í¼ë¸”ë¦­ IP í™•ì¸í•˜ê¸°</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token assign-left variable\">MY_IID</span><span class=\"token operator\">=</span>i-0c463c0c5951523b1\n$ aws ec2 describe-instances --instance-id <span class=\"token variable\">$MY_IID</span></code></pre></div>\n<ul>\n<li>SSH í”„ë¡œí† ì½œì„ í†µí•˜ì—¬ ìƒˆë¡­ê²Œ ë§Œë“¤ì–´ì§„ EC2 ì ‘ì†</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">ssh</span> -i <span class=\"token string\">\"MyKeyPair.pem\"</span> ec2-user@3.36.99.213</code></pre></div>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/133739460-8b6d3c9c-2f88-4ddf-b1d7-34930416be7b.JPG\" alt=\"12  ssh ì„œë²„ ì ‘ì†\"></p>\n<ul>\n<li>EC2ì— ì›¹ ì„œë²„ ì„¤ì¹˜ ë° êµ¬ë™</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">sudo</span> yum <span class=\"token function\">install</span> -y httpd\n$ <span class=\"token function\">sudo</span> systemctl <span class=\"token builtin class-name\">enable</span> --now httpd\n$ <span class=\"token function\">curl</span> <span class=\"token number\">3.36</span>.99.213\n$ <span class=\"token builtin class-name\">exit</span></code></pre></div>\n<h2 id=\"lab-5---ìì›-ì •ë¦¬í•˜ê¸°\" style=\"position:relative;\"><a href=\"#lab-5---%EC%9E%90%EC%9B%90-%EC%A0%95%EB%A6%AC%ED%95%98%EA%B8%B0\" aria-label=\"lab 5   ìì› ì •ë¦¬í•˜ê¸° permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>LAB 5 - ìì› ì •ë¦¬í•˜ê¸°</h2>\n<h4 id=\"í˜„ì¬ê¹Œì§€-ë§Œë“ -ìì›ì„-cli-ì„-ì´ìš©í•˜ì—¬-ì§€ì›Œë´…ì‹œë‹¤\" style=\"position:relative;\"><a href=\"#%ED%98%84%EC%9E%AC%EA%B9%8C%EC%A7%80-%EB%A7%8C%EB%93%A0-%EC%9E%90%EC%9B%90%EC%9D%84-cli-%EC%9D%84-%EC%9D%B4%EC%9A%A9%ED%95%98%EC%97%AC-%EC%A7%80%EC%9B%8C%EB%B4%85%EC%8B%9C%EB%8B%A4\" aria-label=\"í˜„ì¬ê¹Œì§€ ë§Œë“  ìì›ì„ cli ì„ ì´ìš©í•˜ì—¬ ì§€ì›Œë´…ì‹œë‹¤ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>í˜„ì¬ê¹Œì§€ ë§Œë“  ìì›ì„ CLI ì„ ì´ìš©í•˜ì—¬ ì§€ì›Œë´…ì‹œë‹¤.</h4>\n<ul>\n<li>EC2 ìì› ì‚­ì œí•˜ê¸° ë° ìƒì„¸ ì¡°íšŒ</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ aws ec2 terminate-instances --instance-id <span class=\"token variable\">$MY_IID</span>\n$ aws ec2 describe-instances --instance-ids <span class=\"token variable\">$MY_IID</span></code></pre></div>\n<ul>\n<li>ì„œë¸Œë„· ì‚­ì œí•˜ê¸°</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ aws ec2 delete-subnet --subnet-id <span class=\"token variable\">$MY_SID1</span>\n$ aws ec2 delete-subnet --subnet-id <span class=\"token variable\">$MY_SID2</span></code></pre></div>\n<ul>\n<li>ë¼ìš°íŒ… í…Œì´ë¸” ì‚­ì œ</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ aws ec2 delete-route-table --route-table-id <span class=\"token variable\">$MY_RTB</span></code></pre></div>\n<ul>\n<li>VPCì™€ ì¸í„°ë„· ê²Œì´íŠ¸ì›¨ì´ detach</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ aws ec2 detach-internet-gateway --internet-gateway-id <span class=\"token variable\">$MY_IGW</span> --vpc-id <span class=\"token variable\">$MY_VPC</span></code></pre></div>\n<ul>\n<li>ì¸í„°ë„· ê²Œì´íŠ¸ì›¨ì´ ì‚­ì œ</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ aws ec2 delete-internet-gateway --internet-gateway-id <span class=\"token variable\">$MY_IGW</span></code></pre></div>\n<ul>\n<li>VPC ì‚­ì œí•˜ê¸°</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ aws ec2 delete-vpc --vpc-id <span class=\"token variable\">$MY_VPC</span></code></pre></div>\n<h2 id=\"lab-6---ansibleì„-í™œìš©í•œ-ec2-ì¸ìŠ¤í„´ìŠ¤ì™€-aws-ë„ì»¤-ê´€ë¦¬\" style=\"position:relative;\"><a href=\"#lab-6---ansible%EC%9D%84-%ED%99%9C%EC%9A%A9%ED%95%9C-ec2-%EC%9D%B8%EC%8A%A4%ED%84%B4%EC%8A%A4%EC%99%80-aws-%EB%8F%84%EC%BB%A4-%EA%B4%80%EB%A6%AC\" aria-label=\"lab 6   ansibleì„ í™œìš©í•œ ec2 ì¸ìŠ¤í„´ìŠ¤ì™€ aws ë„ì»¤ ê´€ë¦¬ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>LAB 6 - Ansibleì„ í™œìš©í•œ EC2 ì¸ìŠ¤í„´ìŠ¤ì™€ AWS ë„ì»¤ ê´€ë¦¬</h2>\n<div class=\"quote-block\">\n<div class=\"quote-block__emoji\">ğŸ’¡</div>\n<div class=\"quote-block__content\" markdown=1>\n<p>ì œëª©ì“°ê¸°</p>\n<p><strong><u>EC2ì˜ í´ë¼ìš°ë“œ í™˜ê²½ì—ì„œëŠ” ì¸ë²¤í† ë¦¬ë¥¼ ê´€ë¦¬í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤.</u></strong><br>\nì˜¨í”„ë ˆë¯¸ìŠ¤ì²˜ëŸ¼ ê¸°ì¡´ì— ê°€ì§€ê³  ìˆëŠ” ì„œë²„ê°€ ì—†ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.<br>\në”°ë¼ì„œ <strong>hostsëŠ” localhost</strong>ë¡œ ì‘ì—…ì„ ì§„í–‰í•˜ë©´ ë©ë‹ˆë‹¤.</p>\n</div>\n</div>\n<ul>\n<li>\n<p>ì•¤ì„œë¸” ì„¤ì¹˜</p>\n<ul>\n<li>epel-release ë ˆí¬ë¥¼ ì‚¬ìš©í•´ë„ ë¬´ë°©í•©ë‹ˆë‹¤.</li>\n<li><u>ì•Œì•„ì„œ ë‹¤ë¥¸ ë ˆí¬ë¥¼ ì¶”ì²œí•´ì¤Œ</u></li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">sudo</span> amazon-linux-extras <span class=\"token function\">install</span> ansible2</code></pre></div>\n<ul>\n<li>AWS ì´ë¯¸ì§€ ê²€ìƒ‰</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ aws ec2 describe-images <span class=\"token punctuation\">\\</span>\n--owners amazon <span class=\"token punctuation\">\\</span>\n--filters <span class=\"token string\">'Name=name,Values=amzn2-ami-hvm-2.0.????????.?-x86_64-gp2'</span> <span class=\"token string\">'Name=state,Values=available'</span> <span class=\"token punctuation\">\\</span>\n--query <span class=\"token string\">'reverse(sort_by(Images, &amp;CreationDate))[:1].ImageId'</span> <span class=\"token punctuation\">\\</span>\n--output text</code></pre></div>\n<ul>\n<li>\n<p>í”Œë ˆì´ë¶ì— í™œìš©í•œ yaml íŒŒì¼ ë§Œë“¤ê¸°</p>\n<ul>\n<li><code class=\"language-text\">hosts: localhost</code> ì˜µì…˜ì€ EC2 ì„œë²„ê°€ ì•¤ì„œë¸”ì˜ ì½”ì–´ë¡œ ë™ì‘í•˜ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.</li>\n<li><code class=\"language-text\">wait</code> ì˜µì…˜ : <u>ìˆ˜í–‰ ê²°ê³¼ë¥¼ ê¸°ë‹¤ë¦¬ëŠ” ê²ƒì„</u></li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\">$ vi ec2.yml\n\n<span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> launch webservers instance\n  <span class=\"token key atrule\">hosts</span><span class=\"token punctuation\">:</span> localhost\n  <span class=\"token key atrule\">tasks</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> start the instance\n    <span class=\"token key atrule\">ec2</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">region</span><span class=\"token punctuation\">:</span> ap<span class=\"token punctuation\">-</span>northeast<span class=\"token punctuation\">-</span><span class=\"token number\">2</span>\n      <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> ami<span class=\"token punctuation\">-</span>08c64544f5cfcddd0\n      <span class=\"token key atrule\">instance_type</span><span class=\"token punctuation\">:</span> t2.micro\n      <span class=\"token key atrule\">exact_count</span><span class=\"token punctuation\">:</span> <span class=\"token number\">1</span>\n      <span class=\"token key atrule\">count_tag</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> web <span class=\"token punctuation\">}</span>\n      <span class=\"token key atrule\">vpc_subnet_id</span><span class=\"token punctuation\">:</span> subnet<span class=\"token punctuation\">-</span>3ec34455\n      <span class=\"token key atrule\">assign_public_ip</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">True</span>\n      <span class=\"token key atrule\">user_data</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"{{ lookup('file', 'user_data.sh') }}\"</span>\n      <span class=\"token key atrule\">instance_tags</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token key atrule\">Name</span><span class=\"token punctuation\">:</span> WEB <span class=\"token punctuation\">}</span>\n      <span class=\"token key atrule\">group</span><span class=\"token punctuation\">:</span> SG<span class=\"token punctuation\">-</span>WEB\n      <span class=\"token key atrule\">key_name</span><span class=\"token punctuation\">:</span> <span class=\"token number\">0916</span>\n      <span class=\"token key atrule\">wait</span><span class=\"token punctuation\">:</span> yes</code></pre></div>\n<ul>\n<li>ìœ ì € ë°ì´í„° ë§Œë“¤ê¸°</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">vi</span> user_data.sh\n\n<span class=\"token comment\">#!/bin/bash</span>\nyum <span class=\"token function\">install</span> -y httpd\nsystemctl start httpd <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">sudo</span> systemctl <span class=\"token builtin class-name\">enable</span> httpd\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"WEB\"</span> <span class=\"token operator\">></span> /var/www/html/index.html</code></pre></div>\n<ul>\n<li>í”Œë ˆì´ë¶ ì‹¤í–‰</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ ansible-playbook ec2.ym</code></pre></div>\n<p><img src=\"https://user-images.githubusercontent.com/66216102/133746396-7e53732e-fd9c-4480-a0c3-c4da3da0074d.JPG\" alt=\"1  ì•¤ì„œë¸” ì„œë²„ ìƒì„±\">\nfdsaf</p>","frontmatter":{"title":"KOSTA_Ansibleì„ ì´ìš©í•œ AWS í´ë¼ìš°ë“œ DevOps ìë™í™” êµ¬í˜„-4","date":"September 17, 2021","category":"â›“ï¸ devops"}}},"pageContext":{"slug":"/devops/KOSTA_Ansibleì„ ì´ìš©í•œ AWS í´ë¼ìš°ë“œ DevOps ìë™í™” êµ¬í˜„-4/","previous":{"fields":{"slug":"/devops/KOSTA_Ansibleì„ ì´ìš©í•œ AWS í´ë¼ìš°ë“œ DevOps ìë™í™” êµ¬í˜„-3/"},"frontmatter":{"title":"KOSTA_Ansibleì„ ì´ìš©í•œ AWS í´ë¼ìš°ë“œ DevOps ìë™í™” êµ¬í˜„-3","category":"â›“ï¸ devops","draft":false}},"next":{"fields":{"slug":"/error/[git] - git pull ì—ëŸ¬ë‚  ë•Œ/"},"frontmatter":{"title":"git pull ì—ëŸ¬ë‚ ë•Œ","category":"ğŸ¤” error","draft":false}}}},"staticQueryHashes":["3128451518","521680639"]}